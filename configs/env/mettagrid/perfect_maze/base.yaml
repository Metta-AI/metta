# configs/env/mettagrid/perfect_maze/base.yaml
defaults:
  - /env/mettagrid/mettagrid@
  - _self_

game:
  num_agents: 1
  max_steps: ???  # Will be set based on maze size

  # Minimal action set for maze navigation
  actions:
    noop: { enabled: true }
    move: { enabled: true }
    rotate: { enabled: true }
    put_items: { enabled: false }
    get_items: { enabled: true }  # For collecting rewards
    attack: { enabled: false }
    swap: { enabled: false }
    change_color: { enabled: false }
    change_glyph: { enabled: false }

  agent:
    rewards:
      inventory:
        heart: 1

  objects:
    altar:
      initial_resource_count: 1
      cooldown: 255

  map_builder:
    _target_: metta.map.mapgen.MapGen
    width: ???
    height: ???
    border_width: 1

    root:
      type: metta.map.scenes.perfect_maze.PerfectMaze
      params:
        algorithm: recursive_backtracking
        cell_size: 1
        wall_size: 1

      children:
        - where: full
          scene:
            type: metta.map.scenes.random.Random
            params:
              agents: 1
