{
  "title": "Metta Infra Health \u2013 Detailed",
  "description": "Auto-generated detailed view for all workflows and metrics.",
  "layout_type": "ordered",
  "template_variables": [],
  "widgets": [
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Latest state of main \u2014 Tests that block merge passing \u2014 Workflow passing signal (Condition: >= 1)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.ci.workflow.tests_blocking_merge{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": ">= 1",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Latest state of main \u2014 Benchmarks passing \u2014 Workflow passing signal (Condition: >= 1)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.ci.workflow.benchmarks{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": ">= 1",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 0,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Latest state of main \u2014 Other workflows failing \u2014 Count of failing workflows (Condition: < 2)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.ci.workflow.other_failing{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": "< 2",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 4,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Latest state of main \u2014 Latest state success ratio \u2014 Binary success signal (Condition: >= 1)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.ci.workflow.success{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": ">= 1",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 4,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Latest state of main \u2014 Flaky reruns per window \u2014 Count of reruns (Condition: < 10)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.ci.workflow.flaky_tests{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": "< 10",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 8,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Commit history \u2014 Weekly hotfix commits \u2014 Hotfix count (Condition: < 5)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.github.hotfix.count{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": "< 5",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 8,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Commit history \u2014 Weekly force merges \u2014 Force merge count (Condition: < 7)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.github.force_merge.count{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": "< 7",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 12,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Commit history \u2014 Weekly reverts \u2014 Revert count (Condition: <= 1)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.github.reverts.count{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": "<= 1",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 12,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 CI smoothness \u2014 Pre-merge duration \u2014 P90 length (minutes) (Condition: < 5)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.ci.workflow.duration.p90{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": "< 5",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 16,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 CI smoothness \u2014 Jobs cancelled \u2014 Cancellation count (Condition: < 10)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.ci.workflow.cancelled{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": "< 10",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 16,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 StableSuite core \u2014 Throughput \u2014 Steps per second (Condition: >= 40000)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.stablesuite.sps{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": ">= 40000",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 20,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 StableSuite core \u2014 Hearts \u2014 Avg hearts (Condition: >= 0.5)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.stablesuite.hearts{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": ">= 0.5",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 20,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 StableSuite core \u2014 Failure ratio \u2014 Failure ratio (Condition: < 0.2)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.stablesuite.failure_ratio{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": "< 0.2",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 24,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 Training pipeline \u2014 Pipeline status \u2014 Binary success (Condition: >= 1)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.stablesuite.training.pipeline.success{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": ">= 1",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 24,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 Training pipeline \u2014 Pipeline runtime \u2014 Runtime minutes (Condition: <= 90)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.stablesuite.training.pipeline.runtime{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": "<= 90",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 28,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 Training pipeline \u2014 Environment checks \u2014 Checks passing (Condition: >= 1)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.stablesuite.training.env.checks{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": ">= 1",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 28,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Eval \u2014 Remote eval \u2014 Remote eval \u2014 Success signal (Condition: >= 1)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.eval.remote.success{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": ">= 1",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 32,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Eval \u2014 Remote eval \u2014 Remote eval \u2014 Failure count (Condition: < 1)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.eval.remote.failure{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": "< 1",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 32,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Eval \u2014 Remote eval \u2014 Eval quality \u2014 Score (Condition: >= 0.5)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.eval.score{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": ">= 0.5",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 36,
        "width": 6,
        "height": 4
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Eval \u2014 Remote eval \u2014 Eval runtime \u2014 Runtime minutes (Condition: <= 60)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.cron.eval.runtime{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "target",
            "value": "<= 60",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 36,
        "width": 6,
        "height": 4
      }
    }
  ]
}
