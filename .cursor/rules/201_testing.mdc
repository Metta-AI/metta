---
description: Testing patterns and commands
globs: ["tests/**/*.py", "**/test_*.py"]
alwaysApply: false
---

# Testing

## Commands
- `metta test` 
- `metta test tests/rl/test_file.py -v`
- `metta test --cov=mettagrid --cov-report=term-missing`

## Quick integration test
```bash
export TEST_ID=$(date +%Y%m%d_%H%M%S)
uv run ./tools/run.py experiments.recipes.arena.train run=test_$TEST_ID trainer.total_timesteps=100000
uv run ./tools/run.py experiments.recipes.arena.evaluate policy_uri=file://./train_dir/test_$TEST_ID/checkpoints
```