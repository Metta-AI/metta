# MettaScope

MettaScope is a browser viewer to watch metta replays.

## Project layout

./mettascope/src/ has the frontend typescript source.
./mettascope/server.py is a small python backend for serving replays.
./mettascope/tests/ has both frontend UI tests with Playwright, and some python backend tests.

The code is plain TypeScript with no framework.

## Useful commands

All commands are executed from the `mettascope/` directory.

| Task | Command |
|------|---------|
| Build once | `npm run build` |
| Incremental build | `npm run watch` |
| Lint & format | `npm run lint` / `npm run format` |
| Full static checks | `npm run check` |
| Run tests | `npm run test` |

### Texture Atlas

- a texture atlas is generated from the data/atlas/ directory.
- this is used to generate dist/atlas.png and dist/atlas.json.
- the atlas is generated by running:

```bash
python tools/gen_atlas.py
```

## Commit guidelines

Follow the repository-wide rules described in `/AGENTS.md`:

* Short, present-tense commit messages
* Run lint/format before pushing
