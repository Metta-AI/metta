[build-system]
requires = ["setuptools==80.9.0", "wheel==0.45.1", "setuptools_scm==8.1.0"]
build-backend = "setuptools.build_meta"

[project]
name = "llm_agent"
description = "LLM-based agents for MettaGrid environments"
readme = "README.md"
requires-python = ">=3.12,<3.13"
dependencies = [
  "mettagrid",
  "openai>=1.102.0",
  "anthropic>=0.64.0",
]
dynamic = ["version"]

[tool.setuptools.packages.find]
where = ["src"]
include = ["llm_agent", "llm_agent.*"]

[tool.setuptools]
include-package-data = true

[tool.setuptools.package-data]
llm_agent = ["py.typed", "policy/prompts/*.md"]

[tool.setuptools_scm]
tag_regex = "^llm_agent-v(?P<version>\\d+\\.\\d+\\.\\d+(?:\\.\\d+)?)$"
version_scheme = "no-guess-dev"
local_scheme = "node-and-date"
root = "../.."
fallback_version = "0.0.0"
git_describe_command = ["git", "describe", "--dirty", "--tags", "--long", "--match", "llm_agent-v*"]

[tool.pytest.ini_options]
pythonpath = ["src"]
testpaths = ["tests"]

[tool.coverage.run]
source = ["llm_agent"]

[tool.uv.sources]
mettagrid = { workspace = true }
