[build-system]
requires = ["setuptools==80.9.0", "wheel==0.45.1"]
build-backend = "setuptools.build_meta"

[project]
name = "cortexcore"
version = "0.1.5"
description = "cortex is a modular library for building recurrent backbones and agent memory systems."
readme = "README.md"
requires-python = ">=3.12"
license = { text = "MIT" }
authors = [{ name = "Subhojeet Pramanik", email = "email@subho.in" }]
dependencies = [
  "torch",
  "pydantic>=2.11.5",
  "tensordict",
  "einops",
  "ninja>=1.11.1",
  "triton>=2.0.0; platform_system == 'Linux'",
]

[project.urls]
Repository = "https://github.com/Metta-AI/metta/tree/main/packages/cortex"

[dependency-groups]
dev = ["pytest>=8.3.3", "pytest-cov>=6.1.1", "pytest-xdist>=3.8.0"]

[tool.setuptools.packages.find]
where = ["src"]
include = ["cortex", "cortex.*"]

[tool.setuptools]
include-package-data = true

[tool.setuptools.package-data]
cortex = ["py.typed", "**/*.cu", "**/*.cpp", "**/*.cuh", "**/*.h", "**/*.hpp"]

[tool.pytest.ini_options]
pythonpath = ["src"]
markers = ["slow: marks tests as slow (deselect with '-m \"not slow\"')"]
# Slow cortex tests are module-skipped by default.
# Set RUN_SLOW_CORTEX_TESTS=1 to enable them when running pytest.

[tool.coverage.run]
source = ["cortex"]
