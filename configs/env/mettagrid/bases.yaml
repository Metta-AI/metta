
defaults:
  - /env/mettagrid-base/mettagrid@

game:
  num_agents: 24

  map_builder:
    _target_: mettagrid.config.room.room_scene.RoomScene
    border_width: 6

    layout: [
      [ "base", "wild", "base" ],
      [ "wild", "center", "wild" ],
      [ "base", "wild", "base" ],
    ]

    rooms:
      base:
        _target_: mettagrid.config.room.random.Random
        width: ${if:${eq:${..sampling},0},10,${uniform:10,50}}
        height: ${if:${eq:${..sampling},0},10,${uniform:10,50}}
        border_width: 0

        agents: ${div:${....num_agents},4}

        objects:
          generator: ${if:${eq:${..sampling},0},2,${uniform:1,10}}
          armory: ${if:${eq:${..sampling},0},1,${uniform:1,5}}
          lasery: ${if:${eq:${..sampling},0},1,${uniform:1,5}}
          lab: ${if:${eq:${..sampling},0},1,${uniform:1,5}}
          factory: ${if:${eq:${..sampling},0},1,${uniform:1,5}}
          temple: ${if:${eq:${..sampling},0},1,${uniform:1,5}}
          wall: ${if:${eq:${..sampling},0},5,${uniform:0,10}}

      wild:
        _target_: mettagrid.config.room.random.Random
        width: ${if:${eq:${..sampling},0},20,${uniform:10,50}}
        height: ${if:${eq:${..sampling},0},20,${uniform:10,50}}
        border_width: 0

        objects:
          mine: ${if:${eq:${..sampling},0},10,${uniform:10,20}}
          altar: ${if:${eq:${..sampling},0},1,${uniform:1,5}}
          wall: ${if:${eq:${..sampling},0},5,${uniform:0,20}}

      center:
        _target_: mettagrid.config.room.random.Random
        width: ${if:${eq:${..sampling},0},10,${uniform:10,50}}
        height: ${if:${eq:${..sampling},0},10,${uniform:10,50}}
        border_width: 0

        objects:
          altar: ${if:${eq:${..sampling},0},2,${uniform:1,3}}
          wall: ${if:${eq:${..sampling},0},5,${uniform:0,20}}
          generator: ${if:${eq:${..sampling},0},2,${uniform:1,10}}

