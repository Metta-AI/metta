# Scripted Agent Performance Summary

## Overall Performance

- **Exploration Experiments**: 32/36 (88.9%) ✅
- **Eval Missions**: 28/40 (70.0%) ✅
- **Combined**: 60/76 (78.9%)

---

## Exploration Experiments - Per-Experiment Results


### EXP1
  ✅ baseline       : Reward=2.0, Hearts=2, Steps=1000
  ✅ conservative   : Reward=2.0, Hearts=2, Steps=1000
  ✅ aggressive     : Reward=2.0, Hearts=2, Steps=1000
  ✅ silicon_focused: Reward=2.0, Hearts=2, Steps=1000

### EXP10
  ❌ baseline       : Reward=0.0, Hearts=0, Steps=2500
  ❌ conservative   : Reward=0.0, Hearts=0, Steps=2500
  ❌ aggressive     : Reward=0.0, Hearts=0, Steps=2500
  ❌ silicon_focused: Reward=0.0, Hearts=0, Steps=2500

### EXP2
  ✅ baseline       : Reward=1.0, Hearts=1, Steps=2500
  ✅ conservative   : Reward=1.0, Hearts=1, Steps=2500
  ✅ aggressive     : Reward=1.0, Hearts=1, Steps=2500
  ✅ silicon_focused: Reward=1.0, Hearts=1, Steps=2500

### EXP4
  ✅ baseline       : Reward=1.0, Hearts=1, Steps=2500
  ✅ conservative   : Reward=1.0, Hearts=1, Steps=2500
  ✅ aggressive     : Reward=1.0, Hearts=1, Steps=2500
  ✅ silicon_focused: Reward=1.0, Hearts=1, Steps=2500

### EXP5
  ✅ baseline       : Reward=2.0, Hearts=2, Steps=2500
  ✅ conservative   : Reward=2.0, Hearts=2, Steps=2500
  ✅ aggressive     : Reward=2.0, Hearts=2, Steps=2500
  ✅ silicon_focused: Reward=2.0, Hearts=2, Steps=2500

### EXP6
  ✅ baseline       : Reward=1.0, Hearts=1, Steps=3000
  ✅ conservative   : Reward=1.0, Hearts=1, Steps=3000
  ✅ aggressive     : Reward=1.0, Hearts=1, Steps=3000
  ✅ silicon_focused: Reward=1.0, Hearts=1, Steps=3000

### EXP7
  ✅ baseline       : Reward=1.0, Hearts=1, Steps=3000
  ✅ conservative   : Reward=1.0, Hearts=1, Steps=3000
  ✅ aggressive     : Reward=1.0, Hearts=1, Steps=3000
  ✅ silicon_focused: Reward=1.0, Hearts=1, Steps=3000

### EXP8
  ✅ baseline       : Reward=1.0, Hearts=1, Steps=3000
  ✅ conservative   : Reward=1.0, Hearts=1, Steps=3000
  ✅ aggressive     : Reward=1.0, Hearts=1, Steps=3000
  ✅ silicon_focused: Reward=1.0, Hearts=1, Steps=3000

### EXP9
  ✅ baseline       : Reward=1.0, Hearts=1, Steps=3000
  ✅ conservative   : Reward=1.0, Hearts=1, Steps=3000
  ✅ aggressive     : Reward=1.0, Hearts=1, Steps=3000
  ✅ silicon_focused: Reward=1.0, Hearts=1, Steps=3000

### Configuration Performance (Exploration)
  aggressive     : 8/9 success, avg_reward=1.11, avg_hearts=1.11
  baseline       : 8/9 success, avg_reward=1.11, avg_hearts=1.11
  conservative   : 8/9 success, avg_reward=1.11, avg_hearts=1.11
  silicon_focused: 8/9 success, avg_reward=1.11, avg_hearts=1.11

---

## Eval Missions - Per-Mission Results


### CARBON_DESERT
  ✅ baseline       : Reward=2.0, Hearts=2, Steps=1000
  ✅ conservative   : Reward=2.0, Hearts=2, Steps=1000
  ✅ aggressive     : Reward=2.0, Hearts=2, Steps=1000
  ✅ silicon_focused: Reward=2.0, Hearts=2, Steps=1000

### ENERGY_STARVED
  ✅ baseline       : Reward=2.0, Hearts=2, Steps=1000
  ✅ conservative   : Reward=2.0, Hearts=2, Steps=1000
  ✅ aggressive     : Reward=2.0, Hearts=2, Steps=1000
  ✅ silicon_focused: Reward=2.0, Hearts=2, Steps=1000

### GERMANIUM_CLUTCH
  ❌ baseline       : Reward=0.0, Hearts=0, Steps=1000
  ❌ conservative   : Reward=0.0, Hearts=0, Steps=1000
  ❌ aggressive     : Reward=0.0, Hearts=0, Steps=1000
  ❌ silicon_focused: Reward=0.0, Hearts=0, Steps=1000

### GERMANIUM_RUSH
  ✅ baseline       : Reward=2.0, Hearts=2, Steps=1000
  ✅ conservative   : Reward=2.0, Hearts=2, Steps=1000
  ✅ aggressive     : Reward=2.0, Hearts=2, Steps=1000
  ✅ silicon_focused: Reward=2.0, Hearts=2, Steps=1000

### HIGH_REGEN_SPRINT
  ✅ baseline       : Reward=2.0, Hearts=2, Steps=1000
  ✅ conservative   : Reward=2.0, Hearts=2, Steps=1000
  ✅ aggressive     : Reward=2.0, Hearts=2, Steps=1000
  ✅ silicon_focused: Reward=2.0, Hearts=2, Steps=1000

### OXYGEN_BOTTLENECK
  ✅ baseline       : Reward=2.0, Hearts=2, Steps=1000
  ✅ conservative   : Reward=2.0, Hearts=2, Steps=1000
  ✅ aggressive     : Reward=2.0, Hearts=2, Steps=1000
  ✅ silicon_focused: Reward=2.0, Hearts=2, Steps=1000

### SILICON_WORKBENCH
  ❌ baseline       : Reward=0.0, Hearts=0, Steps=1000
  ❌ conservative   : Reward=0.0, Hearts=0, Steps=1000
  ❌ aggressive     : Reward=0.0, Hearts=0, Steps=1000
  ❌ silicon_focused: Reward=0.0, Hearts=0, Steps=1000

### SINGLE_USE_WORLD
  ❌ baseline       : Reward=0.0, Hearts=0, Steps=1000
  ❌ conservative   : Reward=0.0, Hearts=0, Steps=1000
  ❌ aggressive     : Reward=0.0, Hearts=0, Steps=1000
  ❌ silicon_focused: Reward=0.0, Hearts=0, Steps=1000

### SLOW_OXYGEN
  ✅ baseline       : Reward=2.0, Hearts=2, Steps=1000
  ✅ conservative   : Reward=2.0, Hearts=2, Steps=1000
  ✅ aggressive     : Reward=2.0, Hearts=2, Steps=1000
  ✅ silicon_focused: Reward=2.0, Hearts=2, Steps=1000

### SPARSE_BALANCED
  ✅ baseline       : Reward=2.0, Hearts=2, Steps=1000
  ✅ conservative   : Reward=2.0, Hearts=2, Steps=1000
  ✅ aggressive     : Reward=2.0, Hearts=2, Steps=1000
  ✅ silicon_focused: Reward=2.0, Hearts=2, Steps=1000

### Configuration Performance (Eval Missions)
  baseline       : 7/10 success, avg_reward=1.40, avg_hearts=1.40
  conservative   : 7/10 success, avg_reward=1.40, avg_hearts=1.40
  aggressive     : 7/10 success, avg_reward=1.40, avg_hearts=1.40
  silicon_focused: 7/10 success, avg_reward=1.40, avg_hearts=1.40

---

## Key Insights

### Successful Patterns
- All configurations perform similarly (baseline, conservative, aggressive, silicon_focused)
- Agent excels at medium-to-large maps (40x40 to 90x100)
- Robust handling of energy scarcity, depleted extractors, and complex layouts
- Dynamic resource collection and stuck detection working well

### Failing Experiments
**Exploration:**
- EXP10 (90x90, mixed efficiency): 0/4 - Oxygen marked as unobtainable

**Eval Missions:**
- germanium_clutch: 0/4
- silicon_workbench: 0/4
- single_use_world: 0/4

### Major Fixes Applied
1. ✅ Critical environment bug: `change_glyph` consuming 100 energy → fixed
2. ✅ Hearts counter not incrementing → fixed
3. ✅ Navigator refactor: Clean pathfinding to stations/extractors
4. ✅ Chest configuration: Accept deposits from any direction (N/S/E/W)
5. ✅ Resource-based stuck detection and blacklisting
6. ✅ Opportunistic resource collection
7. ✅ Dynamic recharge thresholds based on map size

---

## Hyperparameter Configurations

### Default (Baseline) - **RECOMMENDED** ✅
- `energy_buffer: 20` - Safety margin for energy calculations
- `min_energy_for_silicon: 70` - Min energy before silicon harvesting
- `charger_search_threshold: 40` - Search for charger below this
- `prefer_nearby: True` - Prefer closer extractors

**Note**: All 4 tested configs (baseline, conservative, aggressive, silicon_focused) perform identically. The **baseline config** is used by default when running cogames and is recommended.

---

## How to Run & Test

### Watch Agent Play Individual Missions

**Exploration Experiments:**
```bash
# Exp1 (40x40, basic)
cogames play packages/cogames/src/cogames/cogs_vs_clips/exploration_experiments.py::Experiment1Mission --policy scripted

# Exp2 (50x50)
cogames play packages/cogames/src/cogames/cogs_vs_clips/exploration_experiments.py::Experiment2Mission --policy scripted

# Exp4-10
cogames play packages/cogames/src/cogames/cogs_vs_clips/exploration_experiments.py::Experiment4Mission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/exploration_experiments.py::Experiment5Mission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/exploration_experiments.py::Experiment6Mission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/exploration_experiments.py::Experiment7Mission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/exploration_experiments.py::Experiment8Mission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/exploration_experiments.py::Experiment9Mission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/exploration_experiments.py::Experiment10Mission --policy scripted
```

**Eval Missions:**
```bash
# Passing missions (70% success rate)
cogames play packages/cogames/src/cogames/cogs_vs_clips/eval_missions.py::EnergyStarvedMission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/eval_missions.py::OxygenBottleneckMission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/eval_missions.py::GermaniumRushMission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/eval_missions.py::CarbonDesertMission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/eval_missions.py::SlowOxygenMission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/eval_missions.py::HighRegenSprintMission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/eval_missions.py::SparseBalancedMission --policy scripted

# Failing missions (need investigation)
cogames play packages/cogames/src/cogames/cogs_vs_clips/eval_missions.py::SiliconWorkbenchMission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/eval_missions.py::SingleUseWorldMission --policy scripted
cogames play packages/cogames/src/cogames/cogs_vs_clips/eval_missions.py::GermaniumClutchMission --policy scripted
```

### Run Full Evaluations

**Exploration Experiments (9 experiments × 4 configs = 36 tests):**
```bash
python packages/cogames/scripts/evaluate_outpost_all_experiments.py
```

**Eval Missions (10 missions × 4 configs = 40 tests):**
```bash
python packages/cogames/scripts/evaluate_eval_missions.py
```

### Output Files
- Exploration results: `phase1_evaluation_results.json`
- Eval missions results: `eval_missions_results.json`
