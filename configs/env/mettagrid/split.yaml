
defaults:
  - /env/mettagrid-base/mettagrid@

game:
  num_agents: 20

  map_builder:
    _target_: mettagrid.config.room.room_scene.RoomScene
    border_width: 6

    layout: [
      [ "resources", "wild", "converters" ],
      [ "wild", "spawn", "wild" ],
      [ "converters", "wild", "resources" ],
    ]

    rooms:
      spawn:
        _target_: mettagrid.config.room.random.Random
        width: ${if:${eq:${..sampling},0},25,${uniform:10,100}}
        height: ${if:${eq:${..sampling},0},25,${uniform:10,100}}
        border_width: 0

        agents: ${....num_agents}
        objects:
          altar: ${if:${eq:${..sampling},0},3,${uniform:1,5}}
          wall: ${if:${eq:${..sampling},0},40,${uniform:0,90}}

      wild:
        _target_: mettagrid.config.room.random.Random
        width: ${if:${eq:${..sampling},0},25,${uniform:10,100}}
        height: ${if:${eq:${..sampling},0},25,${uniform:10,100}}
        border_width: 0

        objects:
          wall: ${if:${eq:${..sampling},0},40,${uniform:10,100}}

      resources:
        _target_: mettagrid.config.room.random.Random
        width: ${if:${eq:${..sampling},0},25,${uniform:10,100}}
        height: ${if:${eq:${..sampling},0},25,${uniform:10,100}}
        border_width: 0

        objects:
          generator: ${if:${eq:${..sampling},0},10,${uniform:1,20}}
          wall: ${if:${eq:${..sampling},0},10,${uniform:10,60}}

      converters:
        _target_: mettagrid.config.room.random.Random
        width: ${if:${eq:${..sampling},0},25,${uniform:10,100}}
        height: ${if:${eq:${..sampling},0},25,${uniform:10,100}}
        border_width: 0

        objects:
          converter: ${if:${eq:${..sampling},0},5,${uniform:1,15}}
          wall: ${if:${eq:${..sampling},0},10,${uniform:10,60}}

