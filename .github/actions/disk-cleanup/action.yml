name: "Disk Cleanup"
description: "Free up ~8GB by removing Android SDK"
author: "Your Organization"
runs:
  using: "composite"
  steps:
    - name: Free disk space
      shell: bash
      run: |
        echo "Starting cleanup of Android SDK..."

        # Just check if directories exist (fast)
        WILL_CLEAN=""
        [[ -d "/usr/local/lib/android" ]] && WILL_CLEAN="Android SDK"

        # Start deletions in background
        if [[ -n "$WILL_CLEAN" ]]; then
          (
            sudo rm -rf /usr/local/lib/android ${ANDROID_HOME} ${ANDROID_SDK_ROOT} 2>/dev/null
          ) &
          echo "✓ Cleaning in background: $WILL_CLEAN"
          echo "  ~8GB will be freed up as your job continues"
        else
          echo "✓ No Android SDK found to clean"
        fi
