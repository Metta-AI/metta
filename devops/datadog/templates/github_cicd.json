{
  "title": "GitHub CI/CD Dashboard",
  "description": "Development velocity, code quality, and CI/CD metrics from GitHub. Monitors PRs, commits, workflows, and developer activity.",
  "layout_type": "ordered",
  "template_variables": [],
  "widgets": [
    {
      "definition": {
        "title": "Open PRs",
        "title_size": "16",
        "title_align": "left",
        "type": "query_value",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:github.prs.open{*}",
                "aggregator": "last"
              }
            ],
            "response_format": "scalar"
          }
        ],
        "autoscale": true,
        "precision": 0
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 3,
        "height": 2
      }
    },
    {
      "definition": {
        "title": "PRs Merged (7 days)",
        "title_size": "16",
        "title_align": "left",
        "type": "query_value",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "sum:github.prs.merged_7d{*}",
                "aggregator": "last"
              }
            ],
            "response_format": "scalar"
          }
        ],
        "autoscale": true,
        "precision": 0
      },
      "layout": {
        "x": 3,
        "y": 0,
        "width": 3,
        "height": 2
      }
    },
    {
      "definition": {
        "title": "Active Developers (7d)",
        "title_size": "16",
        "title_align": "left",
        "type": "query_value",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:github.developers.active_7d{*}",
                "aggregator": "last"
              }
            ],
            "response_format": "scalar"
          }
        ],
        "autoscale": true,
        "precision": 0
      },
      "layout": {
        "x": 6,
        "y": 0,
        "width": 3,
        "height": 2
      }
    },
    {
      "definition": {
        "title": "Tests on Main",
        "title_size": "16",
        "title_align": "left",
        "type": "query_value",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:github.ci.tests_passing_on_main{*}",
                "aggregator": "last"
              }
            ],
            "response_format": "scalar",
            "conditional_formats": [
              {
                "comparator": ">=",
                "value": 1,
                "palette": "white_on_green",
                "custom_fg_color": "#ffffff",
                "custom_bg_color": "#28a745"
              },
              {
                "comparator": "<",
                "value": 1,
                "palette": "white_on_red",
                "custom_fg_color": "#ffffff",
                "custom_bg_color": "#dc3545"
              }
            ]
          }
        ],
        "autoscale": false,
        "custom_unit": "",
        "text_align": "center",
        "precision": 0
      },
      "layout": {
        "x": 9,
        "y": 0,
        "width": 3,
        "height": 2
      }
    },
    {
      "definition": {
        "title": "PR Cycle Time (Hours)",
        "title_size": "16",
        "title_align": "left",
        "show_legend": true,
        "legend_layout": "auto",
        "legend_columns": [
          "avg",
          "min",
          "max",
          "value"
        ],
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1",
                "alias": "Cycle Time"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:github.prs.cycle_time_hours{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            },
            "display_type": "line"
          }
        ],
        "markers": [
          {
            "label": " Target: < 48 hours ",
            "value": "y = 48",
            "display_type": "warning dashed"
          },
          {
            "label": " Ideal: < 24 hours ",
            "value": "y = 24",
            "display_type": "ok dashed"
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 2,
        "width": 6,
        "height": 3
      }
    },
    {
      "definition": {
        "title": "Stale PRs (> 14 days)",
        "title_size": "16",
        "title_align": "left",
        "show_legend": true,
        "legend_layout": "auto",
        "legend_columns": [
          "avg",
          "min",
          "max",
          "value"
        ],
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1",
                "alias": "Stale PRs"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:github.prs.stale_count_14d{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "warm",
              "line_type": "solid",
              "line_width": "normal"
            },
            "display_type": "line"
          }
        ],
        "markers": [
          {
            "label": " Warning: 20+ stale PRs ",
            "value": "y = 20",
            "display_type": "warning dashed"
          }
        ]
      },
      "layout": {
        "x": 6,
        "y": 2,
        "width": 6,
        "height": 3
      }
    },
    {
      "definition": {
        "title": "Hotfixes (7 days)",
        "title_size": "16",
        "title_align": "left",
        "show_legend": false,
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "sum:github.commits.hotfix{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "warm",
              "line_type": "solid",
              "line_width": "normal"
            },
            "display_type": "line"
          }
        ],
        "markers": [
          {
            "label": " Target: < 5 per week ",
            "value": "y = 5",
            "display_type": "warning dashed"
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 5,
        "width": 3,
        "height": 3
      }
    },
    {
      "definition": {
        "title": "Reverts (7 days)",
        "title_size": "16",
        "title_align": "left",
        "show_legend": false,
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "sum:github.commits.reverts{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "red",
              "line_type": "solid",
              "line_width": "normal"
            },
            "display_type": "line"
          }
        ],
        "markers": [
          {
            "label": " Target: 0 reverts ",
            "value": "y = 1",
            "display_type": "error dashed"
          }
        ]
      },
      "layout": {
        "x": 3,
        "y": 5,
        "width": 3,
        "height": 3
      }
    },
    {
      "definition": {
        "title": "Failed Workflows (7 days)",
        "title_size": "16",
        "title_align": "left",
        "show_legend": false,
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "sum:github.ci.failed_workflows_7d{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "warm",
              "line_type": "solid",
              "line_width": "normal"
            },
            "display_type": "line"
          }
        ],
        "markers": [
          {
            "label": " Warning: > 2 failures ",
            "value": "y = 2",
            "display_type": "warning dashed"
          }
        ]
      },
      "layout": {
        "x": 6,
        "y": 5,
        "width": 3,
        "height": 3
      }
    },
    {
      "definition": {
        "title": "Force Merges (Coming Soon)",
        "title_size": "16",
        "title_align": "left",
        "type": "note",
        "content": "**Force Merge tracking**\n\nMetric: `github.commits.force_merge_7d`\n\nStatus: To be added in Phase 2\n\nTarget: < 7 per week",
        "background_color": "gray",
        "font_size": "14",
        "text_align": "left",
        "vertical_align": "center",
        "show_tick": false,
        "tick_pos": "50%",
        "tick_edge": "left",
        "has_padding": true
      },
      "layout": {
        "x": 9,
        "y": 5,
        "width": 3,
        "height": 3
      }
    },
    {
      "definition": {
        "title": "CI Duration Percentiles (Minutes)",
        "title_size": "16",
        "title_align": "left",
        "show_legend": true,
        "legend_layout": "auto",
        "legend_columns": [
          "avg",
          "min",
          "max",
          "value"
        ],
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1",
                "alias": "p50"
              },
              {
                "formula": "query2",
                "alias": "p90"
              },
              {
                "formula": "query3",
                "alias": "p99"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:github.ci.duration_p50_minutes{*}"
              },
              {
                "data_source": "metrics",
                "name": "query2",
                "query": "avg:github.ci.duration_p90_minutes{*}"
              },
              {
                "data_source": "metrics",
                "name": "query3",
                "query": "avg:github.ci.duration_p99_minutes{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            },
            "display_type": "line"
          }
        ],
        "markers": [
          {
            "label": " p90 Target: < 5 min ",
            "value": "y = 5",
            "display_type": "warning dashed"
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 8,
        "width": 6,
        "height": 3
      }
    },
    {
      "definition": {
        "title": "Workflow Success Rate",
        "title_size": "16",
        "title_align": "left",
        "show_legend": true,
        "legend_layout": "auto",
        "legend_columns": [
          "avg",
          "min",
          "max",
          "value"
        ],
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "formula": "100 * (query1 - query2) / query1",
                "alias": "Success Rate %"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "sum:github.ci.workflow_runs_7d{*}"
              },
              {
                "data_source": "metrics",
                "name": "query2",
                "query": "sum:github.ci.failed_workflows_7d{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "green",
              "line_type": "solid",
              "line_width": "normal"
            },
            "display_type": "line"
          }
        ],
        "markers": [
          {
            "label": " Target: > 95% ",
            "value": "y = 95",
            "display_type": "ok dashed"
          }
        ],
        "yaxis": {
          "min": "0",
          "max": "100",
          "include_zero": true,
          "scale": "linear"
        }
      },
      "layout": {
        "x": 6,
        "y": 8,
        "width": 6,
        "height": 3
      }
    },
    {
      "definition": {
        "title": "Commits per Developer (7d avg)",
        "title_size": "16",
        "title_align": "left",
        "show_legend": true,
        "legend_layout": "auto",
        "legend_columns": [
          "avg",
          "min",
          "max",
          "value"
        ],
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1",
                "alias": "Commits/Developer"
              }
            ],
            "queries": [
              {
                "data_source": "metrics",
                "name": "query1",
                "query": "avg:github.commits.per_developer_7d{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "cool",
              "line_type": "solid",
              "line_width": "normal"
            },
            "display_type": "line"
          }
        ]
      },
      "layout": {
        "x": 0,
        "y": 11,
        "width": 6,
        "height": 3
      }
    },
    {
      "definition": {
        "title": "Top Contributors (Coming Soon)",
        "title_size": "16",
        "title_align": "left",
        "type": "note",
        "content": "**Top Contributors Widget**\n\nShows: Top 10 developers by commit count\n\nMetric: `sum:github.commits.total_7d{*} by {author}`\n\nStatus: Requires collector extension to tag commits by author\n\nPlanned for Phase 2",
        "background_color": "gray",
        "font_size": "14",
        "text_align": "left",
        "vertical_align": "center",
        "show_tick": false,
        "tick_pos": "50%",
        "tick_edge": "left",
        "has_padding": true
      },
      "layout": {
        "x": 6,
        "y": 11,
        "width": 6,
        "height": 3
      }
    }
  ],
  "notify_list": [],
  "reflow_type": "fixed"
}
