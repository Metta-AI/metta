# Phase 1: Cheap Exploration (Runs 1-120)
# Focus: Quickly explore hyperparameter space with cheap runs
# Goal: Identify promising regions without burning compute

protein:
  acquisition_fn: ucb # UCB for exploration
  beta_ucb: 2.5 # High exploration parameter
  xi_ei: 0.05 # High exploration for EI fallback
  num_random_samples: 15 # Reduced random sampling
  max_suggestion_cost: 1800 # 30 minutes max - keep costs very low
  expansion_rate: 0.1 # Low expansion - stay in cheap territory
  global_search_scale: 1.2 # Slightly wider exploration
  random_suggestions: 512 # Large candidate pool for exploration
  suggestions_per_pareto: 32 # Fewer per pareto point (faster)
  seed_with_search_center: true
  phase: 1 # Phase identifier for logging

metric: heart.gained # Total hearts gained (better signal than avg)
goal: maximize
method: bayes
max_observations_to_load: 0 # Don't load previous runs

parameters:
  trainer:
    # 1. Training scale - most impactful for cost/performance
    total_timesteps:
      distribution: int_uniform
      min: 100000000 # 100M - FIXED across all phases
      max: 5000000000 # 5B - FIXED across all phases
      mean: 500000000 # 500M - bias toward cheap
      scale: auto

    # 2. Batch size - critical for training dynamics
    batch_size:
      distribution: uniform_pow2
      min: 524288 # 2^19 - FIXED across all phases (minimum ~516k)
      max: 1048576 # 2^20 - FIXED across all phases
      mean: 524288 # 2^19 - bias toward minimum
      scale: auto

    # 3. Learning rate - most important optimizer parameter
    optimizer:
      learning_rate:
        distribution: log_normal
        min: 1e-5 # FIXED across all phases
        max: 1e-2 # FIXED across all phases
        mean: 3e-4 # Standard bias
        scale: auto

    # 4. Discount factor - core RL parameter
    ppo:
      gamma:
        distribution: uniform
        min: 0.95 # FIXED across all phases
        max: 0.999 # FIXED across all phases
        mean: 0.99 # Standard bias
        scale: auto

      # 5. GAE lambda - advantage estimation
      gae_lambda:
        distribution: uniform
        min: 0.85 # FIXED across all phases
        max: 0.99 # FIXED across all phases
        mean: 0.95 # Standard bias
        scale: auto

      # 6. PPO clipping - core algorithm parameter
      clip_coef:
        distribution: uniform
        min: 0.05 # FIXED across all phases
        max: 0.4 # FIXED across all phases
        mean: 0.2 # Standard bias
        scale: auto

      # 7. Entropy coefficient - exploration vs exploitation
      ent_coef:
        distribution: log_normal
        min: 1e-4 # FIXED across all phases
        max: 1e-2 # FIXED across all phases
        mean: 1e-3 # Standard bias
        scale: auto
