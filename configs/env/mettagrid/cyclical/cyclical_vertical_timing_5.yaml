defaults:
  - /env/mettagrid/mettagrid@
  - /env/mettagrid/game/objects/basic@game.objects  # wall, agent
  - _self_

game:
  num_agents: 1
  obs_width: 11
  obs_height: 11
  max_steps: 500

  # Simple single-agent setup
  groups:
    agent:
      id: 0
      sprite: 0
      props: {}

  agent:
    default_resource_limit: 10
    rewards:
      inventory:
        heart: 1

  # Define our converter types with 5-tick timing
  objects:
    # Regular converter (lowercase 'c')
    converter:
      cyclical: true
      type_id: 101
      input_resources: {}
      output_resources:
        heart: 1
      conversion_ticks: 5
      cooldown: 5
      max_output: 1
      initial_resource_count: 0
      phase: 0
      color: 14

    # Cyclical converter (uppercase 'C') - phase offset by half
    C:
      type_id: 100
      cyclical: true
      input_resources: {}
      output_resources:
        heart: 1
      conversion_ticks: 5
      cooldown: 5
      max_output: 1
      phase: 5
      initial_resource_count: 0
      color: 13

  # Map configuration using the vertical hallway map file
  map_builder:
    _target_: metta.map.mapgen_ascii.MapGenAscii
    uri: "configs/env/mettagrid/maps/cyclical/cyclical_vertical_hallway.map"
    border_width: 0

  # Enable actions for interacting with converters
  actions:
    noop:
      enabled: false
    move:
      enabled: true
    rotate:
      enabled: true
    put_items:
      enabled: false
    get_items:
      enabled: true
    attack:
      enabled: false
    swap:
      enabled: false
    change_color:
      enabled: false
    change_glyph:
      enabled: false
      number_of_glyphs: 4

eval: /sim/cyclical_timing
