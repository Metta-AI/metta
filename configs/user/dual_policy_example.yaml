# @package __global__

# User config for dual-policy training with scripted NPCs

defaults:
  - /common
  - /agent/fast
  - /trainer/trainer
  - /sim/all@evals
  - _self_

# Basic run configuration
run: dual_policy_roomba_experiment
cmd: train

data_dir: ${oc.env:DATA_DIR,./train_dir}
run_dir: ${data_dir}/${run}

# Trainer configuration overrides
trainer:
  curriculum: /env/mettagrid/curriculum/arena/learning_progress
  num_workers: 4
  total_timesteps: 10_000_000_000

  # Dual-policy configuration
  dual_policy:
    enabled: true
    policy_a_percentage: 0.5  # 50% of agents use the main policy

    # Configure scripted NPC behavior - roomba
    npc_type: "scripted"
    scripted_npc:
      type: "roomba"  # Roomba behavior: move in consistent direction, turn when hitting walls
      approach_items: true
      interact_with_items: true
      roomba_direction: "clockwise"  # For roomba type

# WandB configuration for dual-policy training project
wandb:
  enabled: true
  project: dual_policy_training
  entity: metta-research
  group: ${run}
  name: ${run}
  run_id: ${run}
  data_dir: ${run_dir}
  job_type: ${cmd}
  tags: ["dual_policy", "roomba_npc"]
