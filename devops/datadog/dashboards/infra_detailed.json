{
  "title": "Metta Infra Health \u2013 Detailed",
  "description": "Auto-generated detailed view for all workflows and metrics.",
  "layout_type": "ordered",
  "template_variables": [],
  "widgets": [
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 Multigpu arena basic easy shaped \u2014 Multigpu arena basic easy shaped \u2014 Runs successfully (Condition: > 0)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:container.cpu.usage{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "> 0.0",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 0,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 Multigpu arena basic easy shaped \u2014 Multigpu arena basic easy shaped \u2014 Hearts (Condition: > 0.5)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:container.cpu.limit{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "> 0.5",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 0,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 Multigpu arena basic easy shaped \u2014 Multigpu arena basic easy shaped \u2014 SPS (Condition: > 40000)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:container.cpu.throttled{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "> 40000.0",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 6,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 Multinode learning progress \u2014 Multinode learning progress \u2014 Runs successfully (Condition: > 0)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:container.cpu.partial_stall{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "> 0.0",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 6,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 Multinode learning progress \u2014 Multinode learning progress \u2014 Hearts (Condition: > 0.5)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:container.cpu.system{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "> 0.5",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 12,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 Multinode learning progress \u2014 Multinode learning progress \u2014 Shaped (Condition: > 40000)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:container.cpu.throttled.periods{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "> 40000.0",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 12,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 Local arena basic easy shaped \u2014 Local arena basic easy shaped \u2014 Runs to first checkpoint at 10000 steps (Condition: > 0)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:cri.uptime{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "> 0.0",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 18,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 Local arena basic easy shaped \u2014 Local arena basic easy shaped \u2014 Continues from checkpoint and runs another 10000 steps (Condition: > 0)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:datadog.agent.started{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "> 0.0",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 18,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Training \u2014 Bugs \u2014 Bugs \u2014 Num tickets in Bugs project with \"Training\" label (Condition: < 1|warn< 3)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:datadog.agent.running{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "< 1.0",
            "display_type": "ok"
          },
          {
            "label": "warn",
            "value": "< 3.0",
            "display_type": "warning"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 24,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Latest state of main \u2014 Latest state of main \u2014 Tests that block merge passing (Condition: > 0)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:commits.hotfix{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "> 0.0",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 30,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Latest state of main \u2014 Latest state of main \u2014 Benchmarks passing (Condition: > 0)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:commits.reverts{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "> 0.0",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 30,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Latest state of main \u2014 Latest state of main \u2014 Num other workflows whose latest run off main is failing (Condition: < 2|warn< 4)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.ci.workflow.other_failing{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "< 2.0",
            "display_type": "ok"
          },
          {
            "label": "warn",
            "value": "< 4.0",
            "display_type": "warning"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 36,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Commit history \u2014 Commit history \u2014 Weekly num hotfix commits (Condition: < 5|warn< 7)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.ci.github.hotfix.count{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "< 5.0",
            "display_type": "ok"
          },
          {
            "label": "warn",
            "value": "< 7.0",
            "display_type": "warning"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 36,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Commit history \u2014 Commit history \u2014 Weekly num force merges (Condition: < 7|warn< 10)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.ci.github.force_merge.count{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "< 7.0",
            "display_type": "ok"
          },
          {
            "label": "warn",
            "value": "< 10.0",
            "display_type": "warning"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 42,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 Commit history \u2014 Commit history \u2014 Weekly num reverts (Condition: < 1|warn< 2)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.ci.github.reverts.count{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "< 1.0",
            "display_type": "ok"
          },
          {
            "label": "warn",
            "value": "< 2.0",
            "display_type": "warning"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 42,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 CI smoothness \u2014 CI smoothness \u2014 P90 pre-merge CI checks duration minutes (Condition: < 5|warn< 8)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.ci.workflow.duration.p90{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "< 5.0",
            "display_type": "ok"
          },
          {
            "label": "warn",
            "value": "< 8.0",
            "display_type": "warning"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 48,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 CI smoothness \u2014 CI smoothness \u2014 Weekly num jobs canceled due to timeout (Condition: < 10|warn< 15)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.ci.workflow.cancelled{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "< 10.0",
            "display_type": "ok"
          },
          {
            "label": "warn",
            "value": "< 15.0",
            "display_type": "warning"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 48,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "CI \u2014 CI smoothness \u2014 CI smoothness \u2014 Weekly num times a check failed then succeeded (Condition: < 10|warn< 15)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.ci.workflow.flaky_tests{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "< 10.0",
            "display_type": "ok"
          },
          {
            "label": "warn",
            "value": "< 15.0",
            "display_type": "warning"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 54,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Eval \u2014 Local runs \u2014 Local runs \u2014 `./tools/run.py \u2026` exits with code 0 (Condition: > 0)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.eval.local.success{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "> 0.0",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 60,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Eval \u2014 Local runs \u2014 Local runs \u2014 `./tools/run.py \u2026` avg hearts % diff (Condition: < 10|warn< 15)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.eval.local.heart_delta_pct{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "< 10.0",
            "display_type": "ok"
          },
          {
            "label": "warn",
            "value": "< 15.0",
            "display_type": "warning"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 60,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Eval \u2014 Runs remotely meets known bar \u2014 Runs remotely meets known bar \u2014 `./tools/request_eval.py \u2026` succeeds (Condition: > 0)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.eval.remote.success{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "> 0.0",
            "display_type": "ok"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 66,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Eval \u2014 Runs remotely meets known bar \u2014 Runs remotely meets known bar \u2014 `./tools/request_eval.py \u2026` avg hearts % diff (Condition: < 10|warn< 15)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.eval.remote.heart_delta_pct{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "< 10.0",
            "display_type": "ok"
          },
          {
            "label": "warn",
            "value": "< 15.0",
            "display_type": "warning"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 6,
        "y": 66,
        "width": 6,
        "height": 6
      }
    },
    {
      "definition": {
        "type": "timeseries",
        "title": "Eval \u2014 Runs remotely meets known bar \u2014 Runs remotely meets known bar \u2014 `./tools/request_eval.py \u2026` duration minutes (Condition: <= 5|warn<= 7)",
        "requests": [
          {
            "display_type": "line",
            "formulas": [
              {
                "formula": "query1"
              }
            ],
            "queries": [
              {
                "name": "query1",
                "data_source": "metrics",
                "query": "avg:metta.infra.eval.remote.duration_minutes{*}"
              }
            ],
            "response_format": "timeseries",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "markers": [
          {
            "label": "pass boundary",
            "value": "<= 5.0",
            "display_type": "ok"
          },
          {
            "label": "warn",
            "value": "<= 7.0",
            "display_type": "warning"
          }
        ],
        "show_legend": false
      },
      "layout": {
        "x": 0,
        "y": 72,
        "width": 6,
        "height": 6
      }
    }
  ]
}
