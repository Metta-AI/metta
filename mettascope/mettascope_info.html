<!DOCTYPE html>
<html>
<head>
<style>
body {
  background-color: #101a24;
  color: white;
  font-family: sans-serif;
  line-height: 1.2;
  padding: 15px;
  max-width: 800px;
  margin: 0 auto;
}

h1 {
  color: #24C76B;
  font-size: 1.4em;
  margin-top: 0;
  margin-bottom: 0.2em;
  text-align: center;
}

h2 {
  color: #24C76B;
  font-size: 1.2em;
  margin-top: 0.8em;
  margin-bottom: 0.3em;
  border-bottom: 2px solid #24C76B;
  padding-bottom: 0.1em;
}

h3 {
  color: #24C76B;
  font-size: 1em;
  margin-top: 0.6em;
  margin-bottom: 0.3em;
}

p {
  margin-bottom: 0.6em;
  font-size: 0.85em;
}

a {
  color: #24C76B;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

img {
  max-width: 100%;
  height: auto;
  margin: 1em auto;
  display: block;
}

ul, ol {
  margin: 0.3em 0 0.8em 0;
  padding-left: 1em;
}

li {
  margin-bottom: 0.3em;
  font-size: 0.85em;
}

strong {
  color: #24C76B;
  font-weight: 600;
}

.controls-section {
  background-color: rgba(36, 199, 107, 0.1);
  padding: 0.8em;
  border-radius: 6px;
  margin: 0.6em 0;
}

.features-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5em;
  margin: 2em 0;
}

.feature-item {
  background-color: rgba(36, 199, 107, 0.1);
  padding: 1.5em;
  border-radius: 8px;
}

.explainer-image {
  width: 100%;
  max-width: 800px;
  margin: 2em auto;
  display: block;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.controls-image {
  width: 100%;
  max-width: 600px;
  margin: 1em auto;
  display: block;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.keyboard-controls {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0.3em;
  margin: 0.3em 0;
}

.keyboard-control {
  background-color: rgba(36, 199, 107, 0.1);
  padding: 0.2em;
  border-radius: 4px;
  font-size: 0.85em;
}

.key {
  font-family: monospace;
  background-color: #2a2a2a;
  padding: 0.1em 0.4em;
  border-radius: 3px;
  margin-right: 0.4em;
  font-size: 0.85em;
}
</style>
</head>
<body>

<h2>Controls</h2>

<img src="data/ui/ui_explainer.png" alt="MettaScope Interface Overview" class="explainer-image">

<div class="controls-section">
  <h3>Playback Controls</h3>
  <ul>
    <li><strong>Play/Pause</strong>: Control playback with the play/pause button</li>
    <li><strong>Frame Navigation</strong>: Step forward/backward to move frame by frame</li>
    <li><strong>Speed Control</strong>: Adjust playback speed using the speed controls</li>
    <li><strong>Timeline</strong>: Drag the scrubber on the timeline to jump to any point in the replay</li>
  </ul>
</div>

<div class="controls-section">
  <h3>Visualization Controls</h3>
  <ul>
    <li><strong>Grid Toggle</strong>: Show/hide the grid with the grid button</li>
    <li><strong>Resource Display</strong>: Toggle visibility of resources (hearts and other items) with the heart icon</li>
    <li><strong>Fog of War</strong>: Show/hide fog of war with the cloud icon, revealing what agents can and cannot see</li>
    <li><strong>View Modes</strong>: 
      <ul>
        <li><strong>Pin Icon</strong>: Toggle agent following mode, keeping the selected agent centered</li>
        <li><strong>Eye Icon</strong>: Toggle agent vision range visualization to see how far each agent can see</li>
      </ul>
    </li>
  </ul>
</div>

<div class="controls-section">
  <h3>Action Traces</h3>
  <p>
    The action traces visualization shows the history of agent movements and interactions. You can:
  </p>
  <ul>
    <li><strong>Zoom</strong>: Use mouse wheel to zoom in/out of the traces</li>
    <li><strong>Pan</strong>: Click and drag to move around the trace view</li>
    <li><strong>Trace Colors</strong>: Different colors represent different types of actions:
      <ul>
        <li><span style="color: #24C76B">Green</span>: Movement and rotation actions</li>
        <li><span style="color: #FF6B6B">Red</span>: Attack actions</li>
        <li><span style="color: #FFD93D">Yellow</span>: Resource collection and management</li>
        <li><span style="color: #4ECDC4">Cyan</span>: Frozen state</li>
      </ul>
    </li>
  </ul>
</div>

<div class="controls-section">
  <h3>Navigation</h3>
  <ul>
    <li><strong>Pan</strong>: Click and drag to move the view</li>
    <li><strong>Zoom</strong>: Use mouse wheel to zoom in/out</li>
    <li><strong>Selection</strong>: Click on units to select them</li>
  </ul>
</div>

<div class="controls-section">
  <h3>Agent Stats</h3>
  <p>
    When you select an agent, you can see their current state and attributes:
  </p>
  <ul>
    <li><strong>Position</strong>: Current coordinates on the grid</li>
    <li><strong>Orientation</strong>: Which direction the agent is facing</li>
    <li><strong>Frozen State</strong>: Whether the agent is currently frozen</li>
    <li><strong>Inventory</strong>: Resources and items the agent is carrying</li>
    <li><strong>Team</strong>: Which team the agent belongs to</li>
    <li><strong>Color</strong>: The agent's team color</li>
    <li><strong>Actions</strong>: History of actions taken</li>
    <li><strong>Rewards</strong>: Resources collected and rewards earned</li>
  </ul>
</div>

<h2>Agent Controls</h2>

<img src="data/ui/agent_controls.png?v=1" alt="MettaScope Controls" class="controls-image">

<p>
When you select an agent, you can take direct control using these keyboard commands:
</p>

<div class="keyboard-controls">
  <div class="keyboard-control">
    <span class="key">A</span> Rotate West
  </div>
  <div class="keyboard-control">
    <span class="key">W</span> Rotate North
  </div>
  <div class="keyboard-control">
    <span class="key">S</span> Rotate South
  </div>
  <div class="keyboard-control">
    <span class="key">D</span> Rotate East
  </div>
  <div class="keyboard-control">
    <span class="key">F</span> Move Forward
  </div>
  <div class="keyboard-control">
    <span class="key">R</span> Move Backward
  </div>
  <div class="keyboard-control">
    <span class="key">Q</span> Take Items
  </div>
  <div class="keyboard-control">
    <span class="key">E</span> Put Items
  </div>
  <div class="keyboard-control">
    <span class="key">Z</span> Nearest Attack
  </div>
  <div class="keyboard-control">
    <span class="key">1-9</span> Exact Attack
  </div>
  <div class="keyboard-control">
    <span class="key">G</span> Swap Objects
  </div>
  <div class="keyboard-control">
    <span class="key">C</span> Change Color
  </div>
  <div class="keyboard-control">
    <span class="key">X</span> Do Nothing
  </div>
</div>

<p>
When controlling an agent, you can:
</p>

<ul>
  <li><strong>View Agent Details</strong>: See the agent's current state, resources, and team affiliation</li>
  <li><strong>Track Movement</strong>: Follow the agent's path through the environment</li>
</ul>

</body>
</html> 
