# Import dependency rules for the metta codebase.
# To add or reorder folders, edit this file then run:
#   metta codebase generate-folder-diagram

[importlinter]
root_packages =
    metta
    cogames
    mettagrid
include_external_packages = True

# Folders higher in the list can import from folders lower in the list, not vice versa
[importlinter:contract:metta-folders]
name = Metta folder hierarchy
type = layers
layers =
    metta.tools
    metta.gridworks
    metta.setup
    metta.sim
    metta.rl
    metta.sweep
    metta.cogworks
    metta.adaptive
    metta.map
    metta.utils
    metta.common
# Known violations to fix over time (remove as they get fixed)
ignore_imports =
    metta.setup.** -> metta.tools.**
    metta.sweep.** -> metta.tools.**
    metta.gridworks.** -> metta.tools.**
    metta.rl.** -> metta.tools.**
    metta.rl.** -> metta.sim.**
    metta.utils.** -> metta.adaptive.**

[importlinter:contract:cogames-independence]
name = cogames cannot import from metta
type = forbidden
source_modules =
    cogames
forbidden_modules =
    metta
    cortex
    gitta
    codebot
    tribal_village


[importlinter:contract:mettagrid-independence]
name = mettagrid cannot import from metta or cogames
type = forbidden
source_modules =
    mettagrid
forbidden_modules =
    metta
    cogames
    cortex
    gitta
    codebot
    tribal_village
