{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python: Current File",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "justMyCode": true
        },
        {
            "name": "Train Metta",
            "type": "debugpy",
            "request": "launch",
            "module": "tools.train",
            "args": [
                "run=daphne.trainer.0",
                // "trainer.initial_policy.uri=wandb://run/p2.simple.train.rich.norm.auto.3",
                // "env=mettagrid/a20_b4_40x40",
                "env/mettagrid@env=rooms_without_walls",
                "env.game.max_steps=100",
                "env.sampling=0.1",
                "env.flatten_actions=false",
                "trainer.evaluate_interval=2",

                "evaluator.baselines.uri=file://train_dir/mac.trainer.7/checkpoints/",
                // "env.compact_obs=true",
                // "env.kinship.team_size=5",
                // "env.kinship.team_reward=0.8",
                // "env.game.actions.attack.enabled=false",
                "agent=simple",
                "wandb.enabled=True",
                "wandb.track=True",
                "trainer.wandb_checkpoint_interval=1"
            ],
        },
        {
            "name": "Train (SF) Metta",
            "type": "debugpy",
            "request": "launch",
            "module": "tools.train",
            "args": [
                "run=mac.sf.trainer.0",
                "trainer=samplefactory",
                // "trainer.initial_policy.uri=wandb://run/mac.trainer.4",
                // "env=mettagrid/a20_b4_40x40",
                "env.game.max_steps=100",
                "env.sampling=0.1",
                "env.flatten_actions=true",
                // "env.kinship.team_size=5",
                // "env.kinship.team_reward=0.8",
                // "env.game.actions.attack.enabled=false",
                "agent=simple",
                "wandb.enabled=True",
                "wandb.track=True",
                // "trainer.wandb_checkpoint_interval=1"
            ],
        },
        {
            "name": "Run Sweep",
            "type": "debugpy",
            "request": "launch",
            "module": "tools.sweep",
            "args": [
                "run=mac.sweep.20",
                "sweep=fast",
                "sweep.metric=action.use",
                "agent=small",
                // "agent.policy_selector.uri=wandb://sweep_model/mac.sweep.14@",
                // "env=mettagrid/a20_b4_40x40",
                "env.game.max_steps=100",
                // "env.kinship.team_size=5",
                // "env.kinship.team_reward=0.8",
                "wandb.enabled=True",
                "wandb.track=False",
                "env.flatten_actions=true",
            ],
        },
        {
            "name": "Play Metta",
            "type": "debugpy",
            "request": "launch",
            "module": "tools.play",
            //  "preLaunchTask": "build_cython_extensions",
            "args": [
                "run=mac.play.4",
                "env/mettagrid@env=rooms_without_walls",
                "wandb.enabled=True",
                "evaluator.policy.uri=wandb://run/daphne.trainer.2",
                // "evaluator.policy.uri=wandb://run/george-50-agents-6060-grid",
                "env.flatten_actions=true",
                "agent=simple",
                "env.game.max_steps=10000",
                "env.sampling=0.5",
                "env.game.num_agents=20",
                // "env.game.map.room.objects.altar=10",
                // "env.game.objects.agent.energy_reward=1",
                // "env.game.num_agents=100",
                // "env.game.map.room.width=100",
                // "env.game.map.room.height=100",
                // "env.game.map.room.objects.agent=100",
                // "env.kinship.team_size=5",
                // "env.kinship.team_reward=0.8",
            ],
        },
        {
            "name": "Evaluate",
            "type": "debugpy",
            "request": "launch",
            "module": "tools.eval",
            "args": [
                "run=mac.eval.4",
                "wandb.enabled=True",
                "env/mettagrid@env=a20_train",
                // "env=mettagrid/behaviors/resources/competition/10x10_2a",
                //"evaluator.baseline_uris=[wandb://run/60-agents-4-rooms,wandb://run/100-agents-4-rooms,wandb://run/160-agents-4-rooms]",

              //  "evaluator.baselines.uri=wandb://run/george-50-agents-6060-grid",
                "evaluator.baselines.uri=[wandb://run/60-agents-4-rooms-v1,wandb://run/100-agents-4-rooms-v1,wandb://run/160-agents-4-rooms]",

                "evaluator.policy.uri=wandb://run/daphne-20-agents-4-rooms-v2",
                // "evaluator.baseline_uris=[wandb://sweep_model/mac.train.mac.new.1@1]",
                "evaluator.baselines.range=1",
                "evaluator.num_envs=10",
                "evaluator.num_episodes=20",
                "env.game.max_steps=100",
                "evaluator.max_time_s=6000",
                "env.game.num_agents=20",
                // "eval.policy_uri=train_dir/pufferlib/mac.1",
                // "eval.baseline_uris=[wandb://p2.tuned.4_model:v200]",
            ],
        },
        {
            "name": "Dump Griddly Config",
            "type": "debugpy",
            "request": "launch",
            "module": "env.griddly.dump_griddly_config",
            "args": [
                "env=mettagrid/a5_25x25"
                // "env=mettagrid/a5_25x25"
            ],
        },
        {
            "name": "Run Tests",
            "type": "debugpy",
            "request": "launch",
            "module": "tests.test_griddly_training",
            "args": [
                "-k",
                "test_8x8",
            ],
        },
        {
            "name": "Run Evals",
            "type": "debugpy",
            "request": "launch",
            "module": "evals.evals",
            "args": [
                "--experiment=mac.pres10",
                "--device=cpu",
                "--train_dir=./train_dir/",
                "--eval_env_frameskip=1",
                "--max_num_episodes=1",
                "--env_max_steps=100",
            ],
        },
        {
            "name": "Run WebServer",
            "type": "debugpy",
            "request": "launch",
            "module": "webui.server",
            "args": [],
        },
    ]
}