        and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
        the python configs and then pass that as the input to the skypilot job, rather
        add GitHub commit status helper for Skypilot reporting (#2045)\\n\\nAdds a
        skypilot test runs that take 10+\\nminutes to run\\n\\n<img width=\\\"859\\\"
        experiments framework to properly handle YAML configs for both local and Skypilot
        clarity\\n- Update Skypilot launch.py to handle experiment configs specially\\n-
        Add copy step in train.sh to move mounted configs to right location for Skypilot\\n-
        now work for both local testing and remote Skypilot execution\",\"parents\":[{\"sha\":\"675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\"}],\"verification\":{\"verified\":false,\"reason\":\"unsigned\",\"signature\":null,\"payload\":null,\"verified_at\":null},\"event\":\"committed\"},{\"sha\":\"ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"node_id\":\"C_kwDOMk49j9oAKGFlMTk0MmUwNzIxYTUxNzljM2RiNDkyYmYzYWFlYjkwOTVlZWZmYjY\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"author\":{\"name\":\"Jack
      wandb and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
      the python configs and then pass that as the input to the skypilot job, rather
        as introduced wandb and skypilot \"services\" that are meant to be the backbone
        as the input to the skypilot job, rather than e.g. forwarding commandline
        and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
        the python configs and then pass that as the input to the skypilot job, rather
        add GitHub commit status helper for Skypilot reporting (#2045)\\n\\nAdds a
        skypilot test runs that take 10+\\nminutes to run\\n\\n<img width=\\\"859\\\"
        experiments framework to properly handle YAML configs for both local and Skypilot
        clarity\\n- Update Skypilot launch.py to handle experiment configs specially\\n-
        Add copy step in train.sh to move mounted configs to right location for Skypilot\\n-
        now work for both local testing and remote Skypilot execution\",\"parents\":[{\"sha\":\"675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\"}],\"verification\":{\"verified\":false,\"reason\":\"unsigned\",\"signature\":null,\"payload\":null,\"verified_at\":null},\"event\":\"committed\"},{\"sha\":\"ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"node_id\":\"C_kwDOMk49j9oAKGFlMTk0MmUwNzIxYTUxNzljM2RiNDkyYmYzYWFlYjkwOTVlZWZmYjY\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"author\":{\"name\":\"Jack
        and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
        the python configs and then pass that as the input to the skypilot job, rather
      wandb and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
      the python configs and then pass that as the input to the skypilot job, rather
        as introduced wandb and skypilot \"services\" that are meant to be the backbone
        as the input to the skypilot job, rather than e.g. forwarding commandline
        ci debug (#2066)\\n\\nthe skypilot jobs are getting 422 errors -- this is
        ci debug (#2066)\\n\\nthe skypilot jobs are getting 422 errors -- this is
        set context ENV when updating skypilot job status (#2067)\\n\\nThe SkyPilot
        \\\"Skypilot/E2E\\\")` returns the empty\\nstring instead of using the default,
        set context ENV when updating skypilot job status (#2067)\\n\\nThe SkyPilot
        \\\"Skypilot/E2E\\\")` returns the empty\\nstring instead of using the default,
        capture script output from skypilot launch action (#2068)\\n\\nThis PR fixes
        two issues in the SkyPilot training workflow:\\n\\n1. **Adds output capture
        for the SkyPilot launch command** - The custom\\naction now properly captures
        capture script output from skypilot launch action (#2068)\\n\\nThis PR fixes
        two issues in the SkyPilot training workflow:\\n\\n1. **Adds output capture
        for the SkyPilot launch command** - The custom\\naction now properly captures
        Matyukhin\",\"email\":\"me@berekuk.ru\",\"date\":\"2025-08-12T23:32:51Z\"},\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"date\":\"2025-08-12T23:32:51Z\"},\"tree\":{\"sha\":\"d8940f4b374603ca371171d738df49f3e59c2321\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/trees/d8940f4b374603ca371171d738df49f3e59c2321\"},\"message\":\"Skypilot
        0.10.1 (#2042)\\n\\nhttps://github.com/skypilot-org/skypilot/releases/tag/v0.10.1\\n\\nAPI
        1755041571 -0300\\ncommitter GitHub <noreply@github.com> 1755041571 +0000\\n\\nSkypilot
        0.10.1 (#2042)\\n\\nhttps://github.com/skypilot-org/skypilot/releases/tag/v0.10.1\\n\\nAPI
        skypilot api server storage (#2080)\\n\\n[Asana\\nTask](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1211040020826473)\",\"parents\":[{\"sha\":\"b82599dd34b13ee825ffa7b50c6ad8e7bf8c19d8\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/b82599dd34b13ee825ffa7b50c6ad8e7bf8c19d8\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/b82599dd34b13ee825ffa7b50c6ad8e7bf8c19d8\"}],\"verification\":{\"verified\":true,\"reason\":\"valid\",\"signature\":\"-----BEGIN
        skypilot api server storage (#2080)\\n\\n[Asana\\nTask](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1211040020826473)\",\"verified_at\":\"2025-08-12T23:39:49Z\"},\"event\":\"committed\"},{\"sha\":\"ad0ef926a62964e71414d7f70c70821f9c99c8c9\",\"node_id\":\"C_kwDOMk49j9oAKGFkMGVmOTI2YTYyOTY0ZTcxNDE0ZDdmNzBjNzA4MjFmOWM5OWM4Yzk\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/ad0ef926a62964e71414d7f70c70821f9c99c8c9\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/ad0ef926a62964e71414d7f70c70821f9c99c8c9\",\"author\":{\"name\":\"Richard
        report skypilot status to discord channel (#2081)\\n\\nThis PR refactors the
        notifications for SkyPilot job launches.\\n\\n## Changes\\n\\n### Discord
        \ - Rate limiting protection between messages\\n\\n### SkyPilot Discord Notifications\\n-
        workflow \u2192 GitHub action \u2192 launch script \u2192 SkyPilot config\\n-
        report skypilot status to discord channel (#2081)\\n\\nThis PR refactors the
        notifications for SkyPilot job launches.\\n\\n## Changes\\n\\n### Discord
        \ - Rate limiting protection between messages\\n\\n### SkyPilot Discord Notifications\\n-
        workflow \u2192 GitHub action \u2192 launch script \u2192 SkyPilot config\\n-
        skypilot fails on curricula with diverse levels (#2070)\\n\\nCurrently skypilot
        skypilot fails on curricula with diverse levels (#2070)\\n\\nCurrently skypilot
        ci debug (#2066)\\n\\nthe skypilot jobs are getting 422 errors -- this is
        ci debug (#2066)\\n\\nthe skypilot jobs are getting 422 errors -- this is
        set context ENV when updating skypilot job status (#2067)\\n\\nThe SkyPilot
        \\\"Skypilot/E2E\\\")` returns the empty\\nstring instead of using the default,
        set context ENV when updating skypilot job status (#2067)\\n\\nThe SkyPilot
        \\\"Skypilot/E2E\\\")` returns the empty\\nstring instead of using the default,
        capture script output from skypilot launch action (#2068)\\n\\nThis PR fixes
        two issues in the SkyPilot training workflow:\\n\\n1. **Adds output capture
        for the SkyPilot launch command** - The custom\\naction now properly captures
        capture script output from skypilot launch action (#2068)\\n\\nThis PR fixes
        two issues in the SkyPilot training workflow:\\n\\n1. **Adds output capture
        for the SkyPilot launch command** - The custom\\naction now properly captures
        Matyukhin\",\"email\":\"me@berekuk.ru\",\"date\":\"2025-08-12T23:32:51Z\"},\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"date\":\"2025-08-12T23:32:51Z\"},\"tree\":{\"sha\":\"d8940f4b374603ca371171d738df49f3e59c2321\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/trees/d8940f4b374603ca371171d738df49f3e59c2321\"},\"message\":\"Skypilot
        0.10.1 (#2042)\\n\\nhttps://github.com/skypilot-org/skypilot/releases/tag/v0.10.1\\n\\nAPI
        1755041571 -0300\\ncommitter GitHub <noreply@github.com> 1755041571 +0000\\n\\nSkypilot
        0.10.1 (#2042)\\n\\nhttps://github.com/skypilot-org/skypilot/releases/tag/v0.10.1\\n\\nAPI
        skypilot api server storage (#2080)\\n\\n[Asana\\nTask](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1211040020826473)\",\"parents\":[{\"sha\":\"b82599dd34b13ee825ffa7b50c6ad8e7bf8c19d8\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/b82599dd34b13ee825ffa7b50c6ad8e7bf8c19d8\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/b82599dd34b13ee825ffa7b50c6ad8e7bf8c19d8\"}],\"verification\":{\"verified\":true,\"reason\":\"valid\",\"signature\":\"-----BEGIN
        skypilot api server storage (#2080)\\n\\n[Asana\\nTask](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1211040020826473)\",\"verified_at\":\"2025-08-12T23:39:49Z\"},\"event\":\"committed\"},{\"sha\":\"ad0ef926a62964e71414d7f70c70821f9c99c8c9\",\"node_id\":\"C_kwDOMk49j9oAKGFkMGVmOTI2YTYyOTY0ZTcxNDE0ZDdmNzBjNzA4MjFmOWM5OWM4Yzk\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/ad0ef926a62964e71414d7f70c70821f9c99c8c9\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/ad0ef926a62964e71414d7f70c70821f9c99c8c9\",\"author\":{\"name\":\"Richard
        report skypilot status to discord channel (#2081)\\n\\nThis PR refactors the
        notifications for SkyPilot job launches.\\n\\n## Changes\\n\\n### Discord
        \ - Rate limiting protection between messages\\n\\n### SkyPilot Discord Notifications\\n-
        workflow \u2192 GitHub action \u2192 launch script \u2192 SkyPilot config\\n-
        report skypilot status to discord channel (#2081)\\n\\nThis PR refactors the
        notifications for SkyPilot job launches.\\n\\n## Changes\\n\\n### Discord
        \ - Rate limiting protection between messages\\n\\n### SkyPilot Discord Notifications\\n-
        workflow \u2192 GitHub action \u2192 launch script \u2192 SkyPilot config\\n-
        skypilot fails on curricula with diverse levels (#2070)\\n\\nCurrently skypilot
        skypilot fails on curricula with diverse levels (#2070)\\n\\nCurrently skypilot
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T18:42:50Z
        and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
        the python configs and then pass that as the input to the skypilot job, rather
        add GitHub commit status helper for Skypilot reporting (#2045)\\n\\nAdds a
        skypilot test runs that take 10+\\nminutes to run\\n\\n<img width=\\\"859\\\"
        experiments framework to properly handle YAML configs for both local and Skypilot
        clarity\\n- Update Skypilot launch.py to handle experiment configs specially\\n-
        Add copy step in train.sh to move mounted configs to right location for Skypilot\\n-
        now work for both local testing and remote Skypilot execution\",\"parents\":[{\"sha\":\"675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\"}],\"verification\":{\"verified\":false,\"reason\":\"unsigned\",\"signature\":null,\"payload\":null,\"verified_at\":null},\"event\":\"committed\"},{\"sha\":\"ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"node_id\":\"C_kwDOMk49j9oAKGFlMTk0MmUwNzIxYTUxNzljM2RiNDkyYmYzYWFlYjkwOTVlZWZmYjY\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"author\":{\"name\":\"Jack
        and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
        the python configs and then pass that as the input to the skypilot job, rather
      wandb and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
      the python configs and then pass that as the input to the skypilot job, rather
        as introduced wandb and skypilot \"services\" that are meant to be the backbone
        as the input to the skypilot job, rather than e.g. forwarding commandline
        and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
        the python configs and then pass that as the input to the skypilot job, rather
        add GitHub commit status helper for Skypilot reporting (#2045)\\n\\nAdds a
        skypilot test runs that take 10+\\nminutes to run\\n\\n<img width=\\\"859\\\"
        experiments framework to properly handle YAML configs for both local and Skypilot
        clarity\\n- Update Skypilot launch.py to handle experiment configs specially\\n-
        Add copy step in train.sh to move mounted configs to right location for Skypilot\\n-
        now work for both local testing and remote Skypilot execution\",\"parents\":[{\"sha\":\"675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\"}],\"verification\":{\"verified\":false,\"reason\":\"unsigned\",\"signature\":null,\"payload\":null,\"verified_at\":null},\"event\":\"committed\"},{\"sha\":\"ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"node_id\":\"C_kwDOMk49j9oAKGFlMTk0MmUwNzIxYTUxNzljM2RiNDkyYmYzYWFlYjkwOTVlZWZmYjY\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"author\":{\"name\":\"Jack
        and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
        the python configs and then pass that as the input to the skypilot job, rather
        ci debug (#2066)\\n\\nthe skypilot jobs are getting 422 errors -- this is
        ci debug (#2066)\\n\\nthe skypilot jobs are getting 422 errors -- this is
        set context ENV when updating skypilot job status (#2067)\\n\\nThe SkyPilot
        \\\"Skypilot/E2E\\\")` returns the empty\\nstring instead of using the default,
        set context ENV when updating skypilot job status (#2067)\\n\\nThe SkyPilot
        \\\"Skypilot/E2E\\\")` returns the empty\\nstring instead of using the default,
        capture script output from skypilot launch action (#2068)\\n\\nThis PR fixes
        two issues in the SkyPilot training workflow:\\n\\n1. **Adds output capture
        for the SkyPilot launch command** - The custom\\naction now properly captures
        capture script output from skypilot launch action (#2068)\\n\\nThis PR fixes
        two issues in the SkyPilot training workflow:\\n\\n1. **Adds output capture
        for the SkyPilot launch command** - The custom\\naction now properly captures
        Matyukhin\",\"email\":\"me@berekuk.ru\",\"date\":\"2025-08-12T23:32:51Z\"},\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"date\":\"2025-08-12T23:32:51Z\"},\"tree\":{\"sha\":\"d8940f4b374603ca371171d738df49f3e59c2321\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/trees/d8940f4b374603ca371171d738df49f3e59c2321\"},\"message\":\"Skypilot
        0.10.1 (#2042)\\n\\nhttps://github.com/skypilot-org/skypilot/releases/tag/v0.10.1\\n\\nAPI
        1755041571 -0300\\ncommitter GitHub <noreply@github.com> 1755041571 +0000\\n\\nSkypilot
        0.10.1 (#2042)\\n\\nhttps://github.com/skypilot-org/skypilot/releases/tag/v0.10.1\\n\\nAPI
        skypilot api server storage (#2080)\\n\\n[Asana\\nTask](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1211040020826473)\",\"parents\":[{\"sha\":\"b82599dd34b13ee825ffa7b50c6ad8e7bf8c19d8\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/b82599dd34b13ee825ffa7b50c6ad8e7bf8c19d8\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/b82599dd34b13ee825ffa7b50c6ad8e7bf8c19d8\"}],\"verification\":{\"verified\":true,\"reason\":\"valid\",\"signature\":\"-----BEGIN
        skypilot api server storage (#2080)\\n\\n[Asana\\nTask](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1211040020826473)\",\"verified_at\":\"2025-08-12T23:39:49Z\"},\"event\":\"committed\"},{\"sha\":\"ad0ef926a62964e71414d7f70c70821f9c99c8c9\",\"node_id\":\"C_kwDOMk49j9oAKGFkMGVmOTI2YTYyOTY0ZTcxNDE0ZDdmNzBjNzA4MjFmOWM5OWM4Yzk\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/ad0ef926a62964e71414d7f70c70821f9c99c8c9\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/ad0ef926a62964e71414d7f70c70821f9c99c8c9\",\"author\":{\"name\":\"Richard
        report skypilot status to discord channel (#2081)\\n\\nThis PR refactors the
        notifications for SkyPilot job launches.\\n\\n## Changes\\n\\n### Discord
        \ - Rate limiting protection between messages\\n\\n### SkyPilot Discord Notifications\\n-
        workflow \u2192 GitHub action \u2192 launch script \u2192 SkyPilot config\\n-
        report skypilot status to discord channel (#2081)\\n\\nThis PR refactors the
        notifications for SkyPilot job launches.\\n\\n## Changes\\n\\n### Discord
        \ - Rate limiting protection between messages\\n\\n### SkyPilot Discord Notifications\\n-
        workflow \u2192 GitHub action \u2192 launch script \u2192 SkyPilot config\\n-
        skypilot fails on curricula with diverse levels (#2070)\\n\\nCurrently skypilot
        skypilot fails on curricula with diverse levels (#2070)\\n\\nCurrently skypilot
        ci debug (#2066)\\n\\nthe skypilot jobs are getting 422 errors -- this is
        ci debug (#2066)\\n\\nthe skypilot jobs are getting 422 errors -- this is
        set context ENV when updating skypilot job status (#2067)\\n\\nThe SkyPilot
        \\\"Skypilot/E2E\\\")` returns the empty\\nstring instead of using the default,
        set context ENV when updating skypilot job status (#2067)\\n\\nThe SkyPilot
        \\\"Skypilot/E2E\\\")` returns the empty\\nstring instead of using the default,
        capture script output from skypilot launch action (#2068)\\n\\nThis PR fixes
        two issues in the SkyPilot training workflow:\\n\\n1. **Adds output capture
        for the SkyPilot launch command** - The custom\\naction now properly captures
        capture script output from skypilot launch action (#2068)\\n\\nThis PR fixes
        two issues in the SkyPilot training workflow:\\n\\n1. **Adds output capture
        for the SkyPilot launch command** - The custom\\naction now properly captures
        Matyukhin\",\"email\":\"me@berekuk.ru\",\"date\":\"2025-08-12T23:32:51Z\"},\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"date\":\"2025-08-12T23:32:51Z\"},\"tree\":{\"sha\":\"d8940f4b374603ca371171d738df49f3e59c2321\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/trees/d8940f4b374603ca371171d738df49f3e59c2321\"},\"message\":\"Skypilot
        0.10.1 (#2042)\\n\\nhttps://github.com/skypilot-org/skypilot/releases/tag/v0.10.1\\n\\nAPI
        1755041571 -0300\\ncommitter GitHub <noreply@github.com> 1755041571 +0000\\n\\nSkypilot
        0.10.1 (#2042)\\n\\nhttps://github.com/skypilot-org/skypilot/releases/tag/v0.10.1\\n\\nAPI
        skypilot api server storage (#2080)\\n\\n[Asana\\nTask](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1211040020826473)\",\"parents\":[{\"sha\":\"b82599dd34b13ee825ffa7b50c6ad8e7bf8c19d8\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/b82599dd34b13ee825ffa7b50c6ad8e7bf8c19d8\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/b82599dd34b13ee825ffa7b50c6ad8e7bf8c19d8\"}],\"verification\":{\"verified\":true,\"reason\":\"valid\",\"signature\":\"-----BEGIN
        skypilot api server storage (#2080)\\n\\n[Asana\\nTask](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1211040020826473)\",\"verified_at\":\"2025-08-12T23:39:49Z\"},\"event\":\"committed\"},{\"sha\":\"ad0ef926a62964e71414d7f70c70821f9c99c8c9\",\"node_id\":\"C_kwDOMk49j9oAKGFkMGVmOTI2YTYyOTY0ZTcxNDE0ZDdmNzBjNzA4MjFmOWM5OWM4Yzk\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/ad0ef926a62964e71414d7f70c70821f9c99c8c9\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/ad0ef926a62964e71414d7f70c70821f9c99c8c9\",\"author\":{\"name\":\"Richard
        report skypilot status to discord channel (#2081)\\n\\nThis PR refactors the
        notifications for SkyPilot job launches.\\n\\n## Changes\\n\\n### Discord
        \ - Rate limiting protection between messages\\n\\n### SkyPilot Discord Notifications\\n-
        workflow \u2192 GitHub action \u2192 launch script \u2192 SkyPilot config\\n-
        report skypilot status to discord channel (#2081)\\n\\nThis PR refactors the
        notifications for SkyPilot job launches.\\n\\n## Changes\\n\\n### Discord
        \ - Rate limiting protection between messages\\n\\n### SkyPilot Discord Notifications\\n-
        workflow \u2192 GitHub action \u2192 launch script \u2192 SkyPilot config\\n-
        skypilot fails on curricula with diverse levels (#2070)\\n\\nCurrently skypilot
        skypilot fails on curricula with diverse levels (#2070)\\n\\nCurrently skypilot
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T19:11:47Z
        you want to test the image before the merge, e.g. on skypilot:\\r\\n- trigger
        for this branch\\r\\n- to test with skypilot, point `resources.image_id` in
        you want to test the image before the merge, e.g. on skypilot:\\r\\n- trigger
        for this branch\\r\\n- to test with skypilot, point `resources.image_id` in
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T19:45:10Z
Workflow: Asana Integration | Run: Asana Integration | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T19:49:09Z
        switch SkyPilot CI test to multi-node training","user":{"login":"rjwalters","id":2687775,"node_id":"MDQ6VXNlcjI2ODc3NzU=","avatar_url":"https://avatars.githubusercontent.com/u/2687775?v=4","gravatar_id":"","url":"https://api.github.com/users/rjwalters","html_url":"https://github.com/rjwalters","followers_url":"https://api.github.com/users/rjwalters/followers","following_url":"https://api.github.com/users/rjwalters/following{/other_user}","gists_url":"https://api.github.com/users/rjwalters/gists{/gist_id}","starred_url":"https://api.github.com/users/rjwalters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjwalters/subscriptions","organizations_url":"https://api.github.com/users/rjwalters/orgs","repos_url":"https://api.github.com/users/rjwalters/repos","events_url":"https://api.github.com/users/rjwalters/events{/privacy}","received_events_url":"https://api.github.com/users/rjwalters/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"###
        Summary\r\nThis PR switches our GitHub Actions SkyPilot CI test from single-node
        #1916. In debugging the problem, we discovered that our SkyPilot setup scripts
        distributed training. The root issue is that SkyPilot exposes different environment
        variables in the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot
        provides cluster-specific environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`,
        `SKYPILOT_NODE_IPS`, `SKYPILOT_NODE_RANK`, etc.) that are **only available
        `run` phase where SkyPilot variables are available\r\n- Added proper NCCL
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
        multi-node training works with these changes\r\n\r\n[[Asana Task](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1210972252470876)](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1210972252470876)","created_at":"2025-08-05T04:54:19Z","updated_at":"2025-08-14T19:49:15Z","closed_at":null,"merged_at":null,"merge_commit_sha":"8e8acd2f18d768af3250a12114790be87a473872","assignee":{"login":"berekuk","id":89368,"node_id":"MDQ6VXNlcjg5MzY4","avatar_url":"https://avatars.githubusercontent.com/u/89368?v=4","gravatar_id":"","url":"https://api.github.com/users/berekuk","html_url":"https://github.com/berekuk","followers_url":"https://api.github.com/users/berekuk/followers","following_url":"https://api.github.com/users/berekuk/following{/other_user}","gists_url":"https://api.github.com/users/berekuk/gists{/gist_id}","starred_url":"https://api.github.com/users/berekuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berekuk/subscriptions","organizations_url":"https://api.github.com/users/berekuk/orgs","repos_url":"https://api.github.com/users/berekuk/repos","events_url":"https://api.github.com/users/berekuk/events{/privacy}","received_events_url":"https://api.github.com/users/berekuk/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"berekuk","id":89368,"node_id":"MDQ6VXNlcjg5MzY4","avatar_url":"https://avatars.githubusercontent.com/u/89368?v=4","gravatar_id":"","url":"https://api.github.com/users/berekuk","html_url":"https://github.com/berekuk","followers_url":"https://api.github.com/users/berekuk/followers","following_url":"https://api.github.com/users/berekuk/following{/other_user}","gists_url":"https://api.github.com/users/berekuk/gists{/gist_id}","starred_url":"https://api.github.com/users/berekuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berekuk/subscriptions","organizations_url":"https://api.github.com/users/berekuk/orgs","repos_url":"https://api.github.com/users/berekuk/repos","events_url":"https://api.github.com/users/berekuk/events{/privacy}","received_events_url":"https://api.github.com/users/berekuk/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"relh","id":3629411,"node_id":"MDQ6VXNlcjM2Mjk0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/3629411?v=4","gravatar_id":"","url":"https://api.github.com/users/relh","html_url":"https://github.com/relh","followers_url":"https://api.github.com/users/relh/followers","following_url":"https://api.github.com/users/relh/following{/other_user}","gists_url":"https://api.github.com/users/relh/gists{/gist_id}","starred_url":"https://api.github.com/users/relh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/relh/subscriptions","organizations_url":"https://api.github.com/users/relh/orgs","repos_url":"https://api.github.com/users/relh/repos","events_url":"https://api.github.com/users/relh/events{/privacy}","received_events_url":"https://api.github.com/users/relh/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_reviewers":[{"login":"daveey","id":452472,"node_id":"MDQ6VXNlcjQ1MjQ3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/452472?v=4","gravatar_id":"","url":"https://api.github.com/users/daveey","html_url":"https://github.com/daveey","followers_url":"https://api.github.com/users/daveey/followers","following_url":"https://api.github.com/users/daveey/following{/other_user}","gists_url":"https://api.github.com/users/daveey/gists{/gist_id}","starred_url":"https://api.github.com/users/daveey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daveey/subscriptions","organizations_url":"https://api.github.com/users/daveey/orgs","repos_url":"https://api.github.com/users/daveey/repos","events_url":"https://api.github.com/users/daveey/events{/privacy}","received_events_url":"https://api.github.com/users/daveey/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"sasmith","id":2469501,"node_id":"MDQ6VXNlcjI0Njk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/2469501?v=4","gravatar_id":"","url":"https://api.github.com/users/sasmith","html_url":"https://github.com/sasmith","followers_url":"https://api.github.com/users/sasmith/followers","following_url":"https://api.github.com/users/sasmith/following{/other_user}","gists_url":"https://api.github.com/users/sasmith/gists{/gist_id}","starred_url":"https://api.github.com/users/sasmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sasmith/subscriptions","organizations_url":"https://api.github.com/users/sasmith/orgs","repos_url":"https://api.github.com/users/sasmith/repos","events_url":"https://api.github.com/users/sasmith/events{/privacy}","received_events_url":"https://api.github.com/users/sasmith/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"relh","id":3629411,"node_id":"MDQ6VXNlcjM2Mjk0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/3629411?v=4","gravatar_id":"","url":"https://api.github.com/users/relh","html_url":"https://github.com/relh","followers_url":"https://api.github.com/users/relh/followers","following_url":"https://api.github.com/users/relh/following{/other_user}","gists_url":"https://api.github.com/users/relh/gists{/gist_id}","starred_url":"https://api.github.com/users/relh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/relh/subscriptions","organizations_url":"https://api.github.com/users/relh/orgs","repos_url":"https://api.github.com/users/relh/repos","events_url":"https://api.github.com/users/relh/events{/privacy}","received_events_url":"https://api.github.com/users/relh/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"Al-does","id":134578379,"node_id":"U_kgDOCAWAyw","avatar_url":"https://avatars.githubusercontent.com/u/134578379?v=4","gravatar_id":"","url":"https://api.github.com/users/Al-does","html_url":"https://github.com/Al-does","followers_url":"https://api.github.com/users/Al-does/followers","following_url":"https://api.github.com/users/Al-does/following{/other_user}","gists_url":"https://api.github.com/users/Al-does/gists{/gist_id}","starred_url":"https://api.github.com/users/Al-does/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Al-does/subscriptions","organizations_url":"https://api.github.com/users/Al-does/orgs","repos_url":"https://api.github.com/users/Al-does/repos","events_url":"https://api.github.com/users/Al-does/events{/privacy}","received_events_url":"https://api.github.com/users/Al-does/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/Metta-AI/metta/pulls/1923/commits","review_comments_url":"https://api.github.com/repos/Metta-AI/metta/pulls/1923/comments","review_comment_url":"https://api.github.com/repos/Metta-AI/metta/pulls/comments{/number}","comments_url":"https://api.github.com/repos/Metta-AI/metta/issues/1923/comments","statuses_url":"https://api.github.com/repos/Metta-AI/metta/statuses/f7199a766c0987f609b36e589045e1288f1cc64d","head":{"label":"Metta-AI:robb/0804-fix-common-skypilot-script","ref":"robb/0804-fix-common-skypilot-script","sha":"f7199a766c0987f609b36e589045e1288f1cc64d","user":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":843988367,"node_id":"R_kgDOMk49jw","name":"metta","full_name":"Metta-AI/metta","private":false,"owner":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Metta-AI/metta","description":"A
        href=\\\"https://bencher.dev/perf/metta/branches/robb-0804-fix-common-skypilot-script?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr%2Bcomments&utm_term=metta\\\">robb/0804-fix-common-skypilot-script</a></td></tr><tr><td>Testbed</td><td><a
        View full continuous benchmarking report in Bencher</a><div id=\\\"bencher.dev/projects/metta/id/robb-0804-fix-common-skypilot-script/ubuntu-latest/json\\\"></div>\",\"reactions\":{\"url\":\"https://api.github.com/repos/Metta-AI/metta/issues/comments/3153293191/reactions\",\"total_count\":0,\"+1\":0,\"-1\":0,\"laugh\":0,\"hooray\":0,\"confused\":0,\"heart\":0,\"rocket\":0,\"eyes\":0},\"performed_via_github_app\":{\"id\":15368,\"client_id\":\"Iv1.05c79e9ad1f6bdfa\",\"slug\":\"github-actions\",\"node_id\":\"MDM6QXBwMTUzNjg=\",\"owner\":{\"login\":\"github\",\"id\":9919,\"node_id\":\"MDEyOk9yZ2FuaXphdGlvbjk5MTk=\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/9919?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/github\",\"html_url\":\"https://github.com/github\",\"followers_url\":\"https://api.github.com/users/github/followers\",\"following_url\":\"https://api.github.com/users/github/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/github/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/github/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/github/subscriptions\",\"organizations_url\":\"https://api.github.com/users/github/orgs\",\"repos_url\":\"https://api.github.com/users/github/repos\",\"events_url\":\"https://api.github.com/users/github/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/github/received_events\",\"type\":\"Organization\",\"user_view_type\":\"public\",\"site_admin\":false},\"name\":\"GitHub
        \\\"feat: add common setup script for skypilot yaml config (#1822)\\\" (#1916)\\n\\nThis
        \\\"feat: add common setup script for skypilot yaml config (#1822)\\\" (#1916)\\n\\nThis
        href=\\\"https://bencher.dev/perf/metta/branches/robb-0804-fix-common-skypilot-script?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr%2Bcomments&utm_term=metta\\\">robb/0804-fix-common-skypilot-script</a></td></tr><tr><td>Testbed</td><td><a
        View full continuous benchmarking report in Bencher</a><div id=\\\"bencher.dev/projects/metta/id/robb-0804-fix-common-skypilot-script/ubuntu-latest/json\\\"></div>\",\"reactions\":{\"url\":\"https://api.github.com/repos/Metta-AI/metta/issues/comments/3153293191/reactions\",\"total_count\":0,\"+1\":0,\"-1\":0,\"laugh\":0,\"hooray\":0,\"confused\":0,\"heart\":0,\"rocket\":0,\"eyes\":0},\"performed_via_github_app\":{\"id\":15368,\"client_id\":\"Iv1.05c79e9ad1f6bdfa\",\"slug\":\"github-actions\",\"node_id\":\"MDM6QXBwMTUzNjg=\",\"owner\":{\"login\":\"github\",\"id\":9919,\"node_id\":\"MDEyOk9yZ2FuaXphdGlvbjk5MTk=\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/9919?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/github\",\"html_url\":\"https://github.com/github\",\"followers_url\":\"https://api.github.com/users/github/followers\",\"following_url\":\"https://api.github.com/users/github/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/github/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/github/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/github/subscriptions\",\"organizations_url\":\"https://api.github.com/users/github/orgs\",\"repos_url\":\"https://api.github.com/users/github/repos\",\"events_url\":\"https://api.github.com/users/github/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/github/received_events\",\"type\":\"Organization\",\"user_view_type\":\"public\",\"site_admin\":false},\"name\":\"GitHub
        reintroduce common skypilot script\",\"to\":\"fix: re-introduce common skypilot
        re-introduce common skypilot script","notes":"recently we reverted code that
        setting up ENV variables correctly. The root issue is that skypilot does not
        Problem:\r\nSkyPilot provides cluster-specific environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`,
        `SKYPILOT_NODE_IPS`, `SKYPILOT_NODE_RANK`, etc.) that are **only available
        The Two Phases in SkyPilot:\r\n- **Setup phase**: Runs once when the cluster
        to the `run` phase where SkyPilot variables are available, ensuring distributed
        training gets the correct cluster topology information.\r\n\r\n### SkyPilot
        Documentation:\r\nThe environment variables are documented here:\r\n- [[SkyPilot
        Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
    body: '{"data": {"name": "feat: switch SkyPilot CI test to multi-node training",
      "notes": "### Summary\r\nThis PR switches our GitHub Actions SkyPilot CI test
      In debugging the problem, we discovered that our SkyPilot setup scripts had
      training. The root issue is that SkyPilot exposes different environment variables
      in the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot provides
      cluster-specific environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`, `SKYPILOT_NODE_IPS`,
      `SKYPILOT_NODE_RANK`, etc.) that are **only available during the `run` phase**,
      Moved environment configuration from `setup` to `run` phase where SkyPilot variables
      tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
      variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
      variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
      of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
      is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
      `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these are
        Matyukhin"},"notes":"### Summary\r\nThis PR switches our GitHub Actions SkyPilot
        training in #1916. In debugging the problem, we discovered that our SkyPilot
        needed for distributed training. The root issue is that SkyPilot exposes different
        environment variables in the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot
        provides cluster-specific environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`,
        `SKYPILOT_NODE_IPS`, `SKYPILOT_NODE_RANK`, etc.) that are **only available
        `run` phase where SkyPilot variables are available\r\n- Added proper NCCL
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
        switch SkyPilot CI test to multi-node training","modified_at":"2025-08-14T19:49:33.642Z","created_at":"2025-08-05T04:54:41.555Z","resource_type":"task","tags":[],"parent":null,"likes":[],"hearts":[],"liked":false,"hearted":false,"memberships":[{"project":{"gid":"1210348820405981","resource_type":"project","name":"Github
      "feat: switch SkyPilot CI test to multi-node training", "pullRequestDescription":
        fix: reintroduce common skypilot script</a>","is_pinned":false,"text":"Github
        Sync attached #1923 fix: reintroduce common skypilot script","type":"system","resource_subtype":"attachment_added"},{"gid":"1210971824207911","created_at":"2025-08-05T05:00:24.230Z","created_by":{"gid":"1209239425216249","email":"stemaidaemon@gmail.com","name":"Github
        Sync</a></b> changed the name to \"feat: switch SkyPilot CI test to multi-node
        training\"","text":"Github Sync changed the name to \"feat: switch SkyPilot
Workflow: Asana Integration | Run: Asana Integration | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T19:49:18Z
        switch SkyPilot CI test to multi-node training","user":{"login":"rjwalters","id":2687775,"node_id":"MDQ6VXNlcjI2ODc3NzU=","avatar_url":"https://avatars.githubusercontent.com/u/2687775?v=4","gravatar_id":"","url":"https://api.github.com/users/rjwalters","html_url":"https://github.com/rjwalters","followers_url":"https://api.github.com/users/rjwalters/followers","following_url":"https://api.github.com/users/rjwalters/following{/other_user}","gists_url":"https://api.github.com/users/rjwalters/gists{/gist_id}","starred_url":"https://api.github.com/users/rjwalters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjwalters/subscriptions","organizations_url":"https://api.github.com/users/rjwalters/orgs","repos_url":"https://api.github.com/users/rjwalters/repos","events_url":"https://api.github.com/users/rjwalters/events{/privacy}","received_events_url":"https://api.github.com/users/rjwalters/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"###
        Summary\r\nThis PR switches our GitHub Actions SkyPilot CI test from single-node
        #1916. In debugging the problem, we discovered that our SkyPilot setup scripts
        distributed training. The root issue is that SkyPilot exposes different environment
        variables in the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot
        provides cluster-specific environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`,
        `SKYPILOT_NODE_IPS`, `SKYPILOT_NODE_RANK`, etc.) that are **only available
        `run` phase where SkyPilot variables are available\r\n- Added proper NCCL
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
        multi-node training works with these changes\r\n\r\n[[Asana Task](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1210972252470876)](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1210972252470876)","created_at":"2025-08-05T04:54:19Z","updated_at":"2025-08-14T19:49:15Z","closed_at":null,"merged_at":null,"merge_commit_sha":"8e8acd2f18d768af3250a12114790be87a473872","assignee":{"login":"berekuk","id":89368,"node_id":"MDQ6VXNlcjg5MzY4","avatar_url":"https://avatars.githubusercontent.com/u/89368?v=4","gravatar_id":"","url":"https://api.github.com/users/berekuk","html_url":"https://github.com/berekuk","followers_url":"https://api.github.com/users/berekuk/followers","following_url":"https://api.github.com/users/berekuk/following{/other_user}","gists_url":"https://api.github.com/users/berekuk/gists{/gist_id}","starred_url":"https://api.github.com/users/berekuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berekuk/subscriptions","organizations_url":"https://api.github.com/users/berekuk/orgs","repos_url":"https://api.github.com/users/berekuk/repos","events_url":"https://api.github.com/users/berekuk/events{/privacy}","received_events_url":"https://api.github.com/users/berekuk/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"berekuk","id":89368,"node_id":"MDQ6VXNlcjg5MzY4","avatar_url":"https://avatars.githubusercontent.com/u/89368?v=4","gravatar_id":"","url":"https://api.github.com/users/berekuk","html_url":"https://github.com/berekuk","followers_url":"https://api.github.com/users/berekuk/followers","following_url":"https://api.github.com/users/berekuk/following{/other_user}","gists_url":"https://api.github.com/users/berekuk/gists{/gist_id}","starred_url":"https://api.github.com/users/berekuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berekuk/subscriptions","organizations_url":"https://api.github.com/users/berekuk/orgs","repos_url":"https://api.github.com/users/berekuk/repos","events_url":"https://api.github.com/users/berekuk/events{/privacy}","received_events_url":"https://api.github.com/users/berekuk/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"relh","id":3629411,"node_id":"MDQ6VXNlcjM2Mjk0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/3629411?v=4","gravatar_id":"","url":"https://api.github.com/users/relh","html_url":"https://github.com/relh","followers_url":"https://api.github.com/users/relh/followers","following_url":"https://api.github.com/users/relh/following{/other_user}","gists_url":"https://api.github.com/users/relh/gists{/gist_id}","starred_url":"https://api.github.com/users/relh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/relh/subscriptions","organizations_url":"https://api.github.com/users/relh/orgs","repos_url":"https://api.github.com/users/relh/repos","events_url":"https://api.github.com/users/relh/events{/privacy}","received_events_url":"https://api.github.com/users/relh/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_reviewers":[{"login":"daveey","id":452472,"node_id":"MDQ6VXNlcjQ1MjQ3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/452472?v=4","gravatar_id":"","url":"https://api.github.com/users/daveey","html_url":"https://github.com/daveey","followers_url":"https://api.github.com/users/daveey/followers","following_url":"https://api.github.com/users/daveey/following{/other_user}","gists_url":"https://api.github.com/users/daveey/gists{/gist_id}","starred_url":"https://api.github.com/users/daveey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daveey/subscriptions","organizations_url":"https://api.github.com/users/daveey/orgs","repos_url":"https://api.github.com/users/daveey/repos","events_url":"https://api.github.com/users/daveey/events{/privacy}","received_events_url":"https://api.github.com/users/daveey/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"sasmith","id":2469501,"node_id":"MDQ6VXNlcjI0Njk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/2469501?v=4","gravatar_id":"","url":"https://api.github.com/users/sasmith","html_url":"https://github.com/sasmith","followers_url":"https://api.github.com/users/sasmith/followers","following_url":"https://api.github.com/users/sasmith/following{/other_user}","gists_url":"https://api.github.com/users/sasmith/gists{/gist_id}","starred_url":"https://api.github.com/users/sasmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sasmith/subscriptions","organizations_url":"https://api.github.com/users/sasmith/orgs","repos_url":"https://api.github.com/users/sasmith/repos","events_url":"https://api.github.com/users/sasmith/events{/privacy}","received_events_url":"https://api.github.com/users/sasmith/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"relh","id":3629411,"node_id":"MDQ6VXNlcjM2Mjk0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/3629411?v=4","gravatar_id":"","url":"https://api.github.com/users/relh","html_url":"https://github.com/relh","followers_url":"https://api.github.com/users/relh/followers","following_url":"https://api.github.com/users/relh/following{/other_user}","gists_url":"https://api.github.com/users/relh/gists{/gist_id}","starred_url":"https://api.github.com/users/relh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/relh/subscriptions","organizations_url":"https://api.github.com/users/relh/orgs","repos_url":"https://api.github.com/users/relh/repos","events_url":"https://api.github.com/users/relh/events{/privacy}","received_events_url":"https://api.github.com/users/relh/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"Al-does","id":134578379,"node_id":"U_kgDOCAWAyw","avatar_url":"https://avatars.githubusercontent.com/u/134578379?v=4","gravatar_id":"","url":"https://api.github.com/users/Al-does","html_url":"https://github.com/Al-does","followers_url":"https://api.github.com/users/Al-does/followers","following_url":"https://api.github.com/users/Al-does/following{/other_user}","gists_url":"https://api.github.com/users/Al-does/gists{/gist_id}","starred_url":"https://api.github.com/users/Al-does/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Al-does/subscriptions","organizations_url":"https://api.github.com/users/Al-does/orgs","repos_url":"https://api.github.com/users/Al-does/repos","events_url":"https://api.github.com/users/Al-does/events{/privacy}","received_events_url":"https://api.github.com/users/Al-does/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/Metta-AI/metta/pulls/1923/commits","review_comments_url":"https://api.github.com/repos/Metta-AI/metta/pulls/1923/comments","review_comment_url":"https://api.github.com/repos/Metta-AI/metta/pulls/comments{/number}","comments_url":"https://api.github.com/repos/Metta-AI/metta/issues/1923/comments","statuses_url":"https://api.github.com/repos/Metta-AI/metta/statuses/f7199a766c0987f609b36e589045e1288f1cc64d","head":{"label":"Metta-AI:robb/0804-fix-common-skypilot-script","ref":"robb/0804-fix-common-skypilot-script","sha":"f7199a766c0987f609b36e589045e1288f1cc64d","user":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":843988367,"node_id":"R_kgDOMk49jw","name":"metta","full_name":"Metta-AI/metta","private":false,"owner":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Metta-AI/metta","description":"A
        href=\\\"https://bencher.dev/perf/metta/branches/robb-0804-fix-common-skypilot-script?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr%2Bcomments&utm_term=metta\\\">robb/0804-fix-common-skypilot-script</a></td></tr><tr><td>Testbed</td><td><a
        View full continuous benchmarking report in Bencher</a><div id=\\\"bencher.dev/projects/metta/id/robb-0804-fix-common-skypilot-script/ubuntu-latest/json\\\"></div>\",\"reactions\":{\"url\":\"https://api.github.com/repos/Metta-AI/metta/issues/comments/3153293191/reactions\",\"total_count\":0,\"+1\":0,\"-1\":0,\"laugh\":0,\"hooray\":0,\"confused\":0,\"heart\":0,\"rocket\":0,\"eyes\":0},\"performed_via_github_app\":{\"id\":15368,\"client_id\":\"Iv1.05c79e9ad1f6bdfa\",\"slug\":\"github-actions\",\"node_id\":\"MDM6QXBwMTUzNjg=\",\"owner\":{\"login\":\"github\",\"id\":9919,\"node_id\":\"MDEyOk9yZ2FuaXphdGlvbjk5MTk=\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/9919?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/github\",\"html_url\":\"https://github.com/github\",\"followers_url\":\"https://api.github.com/users/github/followers\",\"following_url\":\"https://api.github.com/users/github/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/github/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/github/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/github/subscriptions\",\"organizations_url\":\"https://api.github.com/users/github/orgs\",\"repos_url\":\"https://api.github.com/users/github/repos\",\"events_url\":\"https://api.github.com/users/github/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/github/received_events\",\"type\":\"Organization\",\"user_view_type\":\"public\",\"site_admin\":false},\"name\":\"GitHub
        \\\"feat: add common setup script for skypilot yaml config (#1822)\\\" (#1916)\\n\\nThis
        \\\"feat: add common setup script for skypilot yaml config (#1822)\\\" (#1916)\\n\\nThis
        href=\\\"https://bencher.dev/perf/metta/branches/robb-0804-fix-common-skypilot-script?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr%2Bcomments&utm_term=metta\\\">robb/0804-fix-common-skypilot-script</a></td></tr><tr><td>Testbed</td><td><a
        View full continuous benchmarking report in Bencher</a><div id=\\\"bencher.dev/projects/metta/id/robb-0804-fix-common-skypilot-script/ubuntu-latest/json\\\"></div>\",\"reactions\":{\"url\":\"https://api.github.com/repos/Metta-AI/metta/issues/comments/3153293191/reactions\",\"total_count\":0,\"+1\":0,\"-1\":0,\"laugh\":0,\"hooray\":0,\"confused\":0,\"heart\":0,\"rocket\":0,\"eyes\":0},\"performed_via_github_app\":{\"id\":15368,\"client_id\":\"Iv1.05c79e9ad1f6bdfa\",\"slug\":\"github-actions\",\"node_id\":\"MDM6QXBwMTUzNjg=\",\"owner\":{\"login\":\"github\",\"id\":9919,\"node_id\":\"MDEyOk9yZ2FuaXphdGlvbjk5MTk=\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/9919?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/github\",\"html_url\":\"https://github.com/github\",\"followers_url\":\"https://api.github.com/users/github/followers\",\"following_url\":\"https://api.github.com/users/github/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/github/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/github/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/github/subscriptions\",\"organizations_url\":\"https://api.github.com/users/github/orgs\",\"repos_url\":\"https://api.github.com/users/github/repos\",\"events_url\":\"https://api.github.com/users/github/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/github/received_events\",\"type\":\"Organization\",\"user_view_type\":\"public\",\"site_admin\":false},\"name\":\"GitHub
        reintroduce common skypilot script\",\"to\":\"fix: re-introduce common skypilot
        switch SkyPilot CI test to multi-node training","notes":"### Summary\r\nThis
        PR switches our GitHub Actions SkyPilot CI test from single-node to multi-node
        problem, we discovered that our SkyPilot setup scripts had bugs and were not
        The root issue is that SkyPilot exposes different environment variables in
        the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot provides cluster-specific
        environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`, `SKYPILOT_NODE_IPS`,
        `SKYPILOT_NODE_RANK`, etc.) that are **only available during the `run` phase**,
        SkyPilot variables are available\r\n- Added proper NCCL configuration for
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
        fix: reintroduce common skypilot script</a>","is_pinned":false,"text":"Github
        Sync attached #1923 fix: reintroduce common skypilot script","type":"system","resource_subtype":"attachment_added"},{"gid":"1210971824207911","created_at":"2025-08-05T05:00:24.230Z","created_by":{"gid":"1209239425216249","email":"stemaidaemon@gmail.com","name":"Github
        Sync</a></b> changed the name to \"feat: switch SkyPilot CI test to multi-node
        training\"","text":"Github Sync changed the name to \"feat: switch SkyPilot
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T19:59:07Z
        and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
        the python configs and then pass that as the input to the skypilot job, rather
        add GitHub commit status helper for Skypilot reporting (#2045)\\n\\nAdds a
        skypilot test runs that take 10+\\nminutes to run\\n\\n<img width=\\\"859\\\"
        experiments framework to properly handle YAML configs for both local and Skypilot
        clarity\\n- Update Skypilot launch.py to handle experiment configs specially\\n-
        Add copy step in train.sh to move mounted configs to right location for Skypilot\\n-
        now work for both local testing and remote Skypilot execution\",\"parents\":[{\"sha\":\"675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\"}],\"verification\":{\"verified\":false,\"reason\":\"unsigned\",\"signature\":null,\"payload\":null,\"verified_at\":null},\"event\":\"committed\"},{\"sha\":\"ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"node_id\":\"C_kwDOMk49j9oAKGFlMTk0MmUwNzIxYTUxNzljM2RiNDkyYmYzYWFlYjkwOTVlZWZmYjY\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"author\":{\"name\":\"Jack
        and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
        the python configs and then pass that as the input to the skypilot job, rather
      wandb and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
      the python configs and then pass that as the input to the skypilot job, rather
        as introduced wandb and skypilot \"services\" that are meant to be the backbone
        as the input to the skypilot job, rather than e.g. forwarding commandline
        and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
        the python configs and then pass that as the input to the skypilot job, rather
        add GitHub commit status helper for Skypilot reporting (#2045)\\n\\nAdds a
        skypilot test runs that take 10+\\nminutes to run\\n\\n<img width=\\\"859\\\"
        experiments framework to properly handle YAML configs for both local and Skypilot
        clarity\\n- Update Skypilot launch.py to handle experiment configs specially\\n-
        Add copy step in train.sh to move mounted configs to right location for Skypilot\\n-
        now work for both local testing and remote Skypilot execution\",\"parents\":[{\"sha\":\"675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/675d525ca9fe9e9c6ba5aca9764d8680dee6f1db\"}],\"verification\":{\"verified\":false,\"reason\":\"unsigned\",\"signature\":null,\"payload\":null,\"verified_at\":null},\"event\":\"committed\"},{\"sha\":\"ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"node_id\":\"C_kwDOMk49j9oAKGFlMTk0MmUwNzIxYTUxNzljM2RiNDkyYmYzYWFlYjkwOTVlZWZmYjY\",\"url\":\"https://api.github.com/repos/Metta-AI/metta/git/commits/ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"html_url\":\"https://github.com/Metta-AI/metta/commit/ae1942e0721a5179c3db492bf3aaeb9095eeffb6\",\"author\":{\"name\":\"Jack
        and skypilot \"services\" that are meant to be the backbone of notebooks/marimo/plotly
        the python configs and then pass that as the input to the skypilot job, rather
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T20:17:38Z
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T20:28:25Z
Workflow: Asana Integration | Run: Asana Integration | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T20:39:01Z
        switch SkyPilot CI test to multi-node training","user":{"login":"rjwalters","id":2687775,"node_id":"MDQ6VXNlcjI2ODc3NzU=","avatar_url":"https://avatars.githubusercontent.com/u/2687775?v=4","gravatar_id":"","url":"https://api.github.com/users/rjwalters","html_url":"https://github.com/rjwalters","followers_url":"https://api.github.com/users/rjwalters/followers","following_url":"https://api.github.com/users/rjwalters/following{/other_user}","gists_url":"https://api.github.com/users/rjwalters/gists{/gist_id}","starred_url":"https://api.github.com/users/rjwalters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjwalters/subscriptions","organizations_url":"https://api.github.com/users/rjwalters/orgs","repos_url":"https://api.github.com/users/rjwalters/repos","events_url":"https://api.github.com/users/rjwalters/events{/privacy}","received_events_url":"https://api.github.com/users/rjwalters/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"###
        Summary\r\nThis PR switches our GitHub Actions SkyPilot CI test from single-node
        #1916. In debugging the problem, we discovered that our SkyPilot setup scripts
        distributed training. The root issue is that SkyPilot exposes different environment
        variables in the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot
        provides cluster-specific environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`,
        `SKYPILOT_NODE_IPS`, `SKYPILOT_NODE_RANK`, etc.) that are **only available
        `run` phase where SkyPilot variables are available\r\n- Added proper NCCL
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
        multi-node training works with these changes\r\n\r\n[[Asana Task](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1210972252470876)](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1210972252470876)","created_at":"2025-08-05T04:54:19Z","updated_at":"2025-08-14T20:38:59Z","closed_at":null,"merged_at":null,"merge_commit_sha":"7b1bc8c8ad2a0c34c8393119d7334890a9343541","assignee":{"login":"berekuk","id":89368,"node_id":"MDQ6VXNlcjg5MzY4","avatar_url":"https://avatars.githubusercontent.com/u/89368?v=4","gravatar_id":"","url":"https://api.github.com/users/berekuk","html_url":"https://github.com/berekuk","followers_url":"https://api.github.com/users/berekuk/followers","following_url":"https://api.github.com/users/berekuk/following{/other_user}","gists_url":"https://api.github.com/users/berekuk/gists{/gist_id}","starred_url":"https://api.github.com/users/berekuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berekuk/subscriptions","organizations_url":"https://api.github.com/users/berekuk/orgs","repos_url":"https://api.github.com/users/berekuk/repos","events_url":"https://api.github.com/users/berekuk/events{/privacy}","received_events_url":"https://api.github.com/users/berekuk/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"berekuk","id":89368,"node_id":"MDQ6VXNlcjg5MzY4","avatar_url":"https://avatars.githubusercontent.com/u/89368?v=4","gravatar_id":"","url":"https://api.github.com/users/berekuk","html_url":"https://github.com/berekuk","followers_url":"https://api.github.com/users/berekuk/followers","following_url":"https://api.github.com/users/berekuk/following{/other_user}","gists_url":"https://api.github.com/users/berekuk/gists{/gist_id}","starred_url":"https://api.github.com/users/berekuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berekuk/subscriptions","organizations_url":"https://api.github.com/users/berekuk/orgs","repos_url":"https://api.github.com/users/berekuk/repos","events_url":"https://api.github.com/users/berekuk/events{/privacy}","received_events_url":"https://api.github.com/users/berekuk/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"relh","id":3629411,"node_id":"MDQ6VXNlcjM2Mjk0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/3629411?v=4","gravatar_id":"","url":"https://api.github.com/users/relh","html_url":"https://github.com/relh","followers_url":"https://api.github.com/users/relh/followers","following_url":"https://api.github.com/users/relh/following{/other_user}","gists_url":"https://api.github.com/users/relh/gists{/gist_id}","starred_url":"https://api.github.com/users/relh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/relh/subscriptions","organizations_url":"https://api.github.com/users/relh/orgs","repos_url":"https://api.github.com/users/relh/repos","events_url":"https://api.github.com/users/relh/events{/privacy}","received_events_url":"https://api.github.com/users/relh/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_reviewers":[{"login":"daveey","id":452472,"node_id":"MDQ6VXNlcjQ1MjQ3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/452472?v=4","gravatar_id":"","url":"https://api.github.com/users/daveey","html_url":"https://github.com/daveey","followers_url":"https://api.github.com/users/daveey/followers","following_url":"https://api.github.com/users/daveey/following{/other_user}","gists_url":"https://api.github.com/users/daveey/gists{/gist_id}","starred_url":"https://api.github.com/users/daveey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daveey/subscriptions","organizations_url":"https://api.github.com/users/daveey/orgs","repos_url":"https://api.github.com/users/daveey/repos","events_url":"https://api.github.com/users/daveey/events{/privacy}","received_events_url":"https://api.github.com/users/daveey/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"sasmith","id":2469501,"node_id":"MDQ6VXNlcjI0Njk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/2469501?v=4","gravatar_id":"","url":"https://api.github.com/users/sasmith","html_url":"https://github.com/sasmith","followers_url":"https://api.github.com/users/sasmith/followers","following_url":"https://api.github.com/users/sasmith/following{/other_user}","gists_url":"https://api.github.com/users/sasmith/gists{/gist_id}","starred_url":"https://api.github.com/users/sasmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sasmith/subscriptions","organizations_url":"https://api.github.com/users/sasmith/orgs","repos_url":"https://api.github.com/users/sasmith/repos","events_url":"https://api.github.com/users/sasmith/events{/privacy}","received_events_url":"https://api.github.com/users/sasmith/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"Al-does","id":134578379,"node_id":"U_kgDOCAWAyw","avatar_url":"https://avatars.githubusercontent.com/u/134578379?v=4","gravatar_id":"","url":"https://api.github.com/users/Al-does","html_url":"https://github.com/Al-does","followers_url":"https://api.github.com/users/Al-does/followers","following_url":"https://api.github.com/users/Al-does/following{/other_user}","gists_url":"https://api.github.com/users/Al-does/gists{/gist_id}","starred_url":"https://api.github.com/users/Al-does/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Al-does/subscriptions","organizations_url":"https://api.github.com/users/Al-does/orgs","repos_url":"https://api.github.com/users/Al-does/repos","events_url":"https://api.github.com/users/Al-does/events{/privacy}","received_events_url":"https://api.github.com/users/Al-does/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/Metta-AI/metta/pulls/1923/commits","review_comments_url":"https://api.github.com/repos/Metta-AI/metta/pulls/1923/comments","review_comment_url":"https://api.github.com/repos/Metta-AI/metta/pulls/comments{/number}","comments_url":"https://api.github.com/repos/Metta-AI/metta/issues/1923/comments","statuses_url":"https://api.github.com/repos/Metta-AI/metta/statuses/7610bf3a55f76038551d4405c13592bcd9799197","head":{"label":"Metta-AI:robb/0804-fix-common-skypilot-script","ref":"robb/0804-fix-common-skypilot-script","sha":"7610bf3a55f76038551d4405c13592bcd9799197","user":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":843988367,"node_id":"R_kgDOMk49jw","name":"metta","full_name":"Metta-AI/metta","private":false,"owner":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Metta-AI/metta","description":"A
        href=\\\"https://bencher.dev/perf/metta/branches/robb-0804-fix-common-skypilot-script?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr%2Bcomments&utm_term=metta\\\">robb/0804-fix-common-skypilot-script</a></td></tr><tr><td>Testbed</td><td><a
        View full continuous benchmarking report in Bencher</a><div id=\\\"bencher.dev/projects/metta/id/robb-0804-fix-common-skypilot-script/ubuntu-latest/json\\\"></div>\",\"reactions\":{\"url\":\"https://api.github.com/repos/Metta-AI/metta/issues/comments/3153293191/reactions\",\"total_count\":0,\"+1\":0,\"-1\":0,\"laugh\":0,\"hooray\":0,\"confused\":0,\"heart\":0,\"rocket\":0,\"eyes\":0},\"performed_via_github_app\":{\"id\":15368,\"client_id\":\"Iv1.05c79e9ad1f6bdfa\",\"slug\":\"github-actions\",\"node_id\":\"MDM6QXBwMTUzNjg=\",\"owner\":{\"login\":\"github\",\"id\":9919,\"node_id\":\"MDEyOk9yZ2FuaXphdGlvbjk5MTk=\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/9919?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/github\",\"html_url\":\"https://github.com/github\",\"followers_url\":\"https://api.github.com/users/github/followers\",\"following_url\":\"https://api.github.com/users/github/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/github/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/github/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/github/subscriptions\",\"organizations_url\":\"https://api.github.com/users/github/orgs\",\"repos_url\":\"https://api.github.com/users/github/repos\",\"events_url\":\"https://api.github.com/users/github/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/github/received_events\",\"type\":\"Organization\",\"user_view_type\":\"public\",\"site_admin\":false},\"name\":\"GitHub
        \\\"feat: add common setup script for skypilot yaml config (#1822)\\\" (#1916)\\n\\nThis
        \\\"feat: add common setup script for skypilot yaml config (#1822)\\\" (#1916)\\n\\nThis
        href=\\\"https://bencher.dev/perf/metta/branches/robb-0804-fix-common-skypilot-script?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr%2Bcomments&utm_term=metta\\\">robb/0804-fix-common-skypilot-script</a></td></tr><tr><td>Testbed</td><td><a
        View full continuous benchmarking report in Bencher</a><div id=\\\"bencher.dev/projects/metta/id/robb-0804-fix-common-skypilot-script/ubuntu-latest/json\\\"></div>\",\"reactions\":{\"url\":\"https://api.github.com/repos/Metta-AI/metta/issues/comments/3153293191/reactions\",\"total_count\":0,\"+1\":0,\"-1\":0,\"laugh\":0,\"hooray\":0,\"confused\":0,\"heart\":0,\"rocket\":0,\"eyes\":0},\"performed_via_github_app\":{\"id\":15368,\"client_id\":\"Iv1.05c79e9ad1f6bdfa\",\"slug\":\"github-actions\",\"node_id\":\"MDM6QXBwMTUzNjg=\",\"owner\":{\"login\":\"github\",\"id\":9919,\"node_id\":\"MDEyOk9yZ2FuaXphdGlvbjk5MTk=\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/9919?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/github\",\"html_url\":\"https://github.com/github\",\"followers_url\":\"https://api.github.com/users/github/followers\",\"following_url\":\"https://api.github.com/users/github/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/github/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/github/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/github/subscriptions\",\"organizations_url\":\"https://api.github.com/users/github/orgs\",\"repos_url\":\"https://api.github.com/users/github/repos\",\"events_url\":\"https://api.github.com/users/github/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/github/received_events\",\"type\":\"Organization\",\"user_view_type\":\"public\",\"site_admin\":false},\"name\":\"GitHub
        reintroduce common skypilot script\",\"to\":\"fix: re-introduce common skypilot
        switch SkyPilot CI test to multi-node training","notes":"### Summary\r\nThis
        PR switches our GitHub Actions SkyPilot CI test from single-node to multi-node
        problem, we discovered that our SkyPilot setup scripts had bugs and were not
        The root issue is that SkyPilot exposes different environment variables in
        the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot provides cluster-specific
        environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`, `SKYPILOT_NODE_IPS`,
        `SKYPILOT_NODE_RANK`, etc.) that are **only available during the `run` phase**,
        SkyPilot variables are available\r\n- Added proper NCCL configuration for
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
    body: '{"data": {"name": "feat: switch SkyPilot CI test to multi-node training",
      "notes": "### Summary\r\nThis PR switches our GitHub Actions SkyPilot CI test
      In debugging the problem, we discovered that our SkyPilot setup scripts had
      training. The root issue is that SkyPilot exposes different environment variables
      in the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot provides
      cluster-specific environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`, `SKYPILOT_NODE_IPS`,
      `SKYPILOT_NODE_RANK`, etc.) that are **only available during the `run` phase**,
      Moved environment configuration from `setup` to `run` phase where SkyPilot variables
      tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
      variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
      variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
      of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
      is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
      `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these are
        Walters"},"notes":"### Summary\r\nThis PR switches our GitHub Actions SkyPilot
        training in #1916. In debugging the problem, we discovered that our SkyPilot
        needed for distributed training. The root issue is that SkyPilot exposes different
        environment variables in the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot
        provides cluster-specific environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`,
        `SKYPILOT_NODE_IPS`, `SKYPILOT_NODE_RANK`, etc.) that are **only available
        `run` phase where SkyPilot variables are available\r\n- Added proper NCCL
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
        switch SkyPilot CI test to multi-node training","modified_at":"2025-08-14T20:39:29.096Z","created_at":"2025-08-05T04:54:41.555Z","resource_type":"task","projects":[{"gid":"1210348820405981","resource_type":"project","name":"Github
      "feat: switch SkyPilot CI test to multi-node training", "pullRequestDescription":
        fix: reintroduce common skypilot script</a>","is_pinned":false,"text":"Github
        Sync attached #1923 fix: reintroduce common skypilot script","type":"system","resource_subtype":"attachment_added"},{"gid":"1210971824207911","created_at":"2025-08-05T05:00:24.230Z","created_by":{"gid":"1209239425216249","email":"stemaidaemon@gmail.com","name":"Github
        Sync</a></b> changed the name to \"feat: switch SkyPilot CI test to multi-node
        training\"","text":"Github Sync changed the name to \"feat: switch SkyPilot
        switch SkyPilot CI test to multi-node training\",\"resource_subtype\":\"default_task\"}}}"
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T20:59:34Z
Workflow: Asana Integration | Run: Asana Integration | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T21:06:08Z
        switch SkyPilot CI test to multi-node training","user":{"login":"rjwalters","id":2687775,"node_id":"MDQ6VXNlcjI2ODc3NzU=","avatar_url":"https://avatars.githubusercontent.com/u/2687775?v=4","gravatar_id":"","url":"https://api.github.com/users/rjwalters","html_url":"https://github.com/rjwalters","followers_url":"https://api.github.com/users/rjwalters/followers","following_url":"https://api.github.com/users/rjwalters/following{/other_user}","gists_url":"https://api.github.com/users/rjwalters/gists{/gist_id}","starred_url":"https://api.github.com/users/rjwalters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjwalters/subscriptions","organizations_url":"https://api.github.com/users/rjwalters/orgs","repos_url":"https://api.github.com/users/rjwalters/repos","events_url":"https://api.github.com/users/rjwalters/events{/privacy}","received_events_url":"https://api.github.com/users/rjwalters/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"###
        Summary\r\nThis PR switches our GitHub Actions SkyPilot CI test from single-node
        #1916. In debugging the problem, we discovered that our SkyPilot setup scripts
        distributed training. The root issue is that SkyPilot exposes different environment
        variables in the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot
        provides cluster-specific environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`,
        `SKYPILOT_NODE_IPS`, `SKYPILOT_NODE_RANK`, etc.) that are **only available
        `run` phase where SkyPilot variables are available\r\n- Added proper NCCL
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
        multi-node training works with these changes\r\n\r\n[[Asana Task](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1210972252470876)](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1210972252470876)","created_at":"2025-08-05T04:54:19Z","updated_at":"2025-08-14T21:06:06Z","closed_at":null,"merged_at":null,"merge_commit_sha":"b93fd454d3ed71045f7d1bac578dca3b74301f7b","assignee":{"login":"berekuk","id":89368,"node_id":"MDQ6VXNlcjg5MzY4","avatar_url":"https://avatars.githubusercontent.com/u/89368?v=4","gravatar_id":"","url":"https://api.github.com/users/berekuk","html_url":"https://github.com/berekuk","followers_url":"https://api.github.com/users/berekuk/followers","following_url":"https://api.github.com/users/berekuk/following{/other_user}","gists_url":"https://api.github.com/users/berekuk/gists{/gist_id}","starred_url":"https://api.github.com/users/berekuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berekuk/subscriptions","organizations_url":"https://api.github.com/users/berekuk/orgs","repos_url":"https://api.github.com/users/berekuk/repos","events_url":"https://api.github.com/users/berekuk/events{/privacy}","received_events_url":"https://api.github.com/users/berekuk/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"berekuk","id":89368,"node_id":"MDQ6VXNlcjg5MzY4","avatar_url":"https://avatars.githubusercontent.com/u/89368?v=4","gravatar_id":"","url":"https://api.github.com/users/berekuk","html_url":"https://github.com/berekuk","followers_url":"https://api.github.com/users/berekuk/followers","following_url":"https://api.github.com/users/berekuk/following{/other_user}","gists_url":"https://api.github.com/users/berekuk/gists{/gist_id}","starred_url":"https://api.github.com/users/berekuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berekuk/subscriptions","organizations_url":"https://api.github.com/users/berekuk/orgs","repos_url":"https://api.github.com/users/berekuk/repos","events_url":"https://api.github.com/users/berekuk/events{/privacy}","received_events_url":"https://api.github.com/users/berekuk/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"relh","id":3629411,"node_id":"MDQ6VXNlcjM2Mjk0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/3629411?v=4","gravatar_id":"","url":"https://api.github.com/users/relh","html_url":"https://github.com/relh","followers_url":"https://api.github.com/users/relh/followers","following_url":"https://api.github.com/users/relh/following{/other_user}","gists_url":"https://api.github.com/users/relh/gists{/gist_id}","starred_url":"https://api.github.com/users/relh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/relh/subscriptions","organizations_url":"https://api.github.com/users/relh/orgs","repos_url":"https://api.github.com/users/relh/repos","events_url":"https://api.github.com/users/relh/events{/privacy}","received_events_url":"https://api.github.com/users/relh/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_reviewers":[{"login":"daveey","id":452472,"node_id":"MDQ6VXNlcjQ1MjQ3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/452472?v=4","gravatar_id":"","url":"https://api.github.com/users/daveey","html_url":"https://github.com/daveey","followers_url":"https://api.github.com/users/daveey/followers","following_url":"https://api.github.com/users/daveey/following{/other_user}","gists_url":"https://api.github.com/users/daveey/gists{/gist_id}","starred_url":"https://api.github.com/users/daveey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daveey/subscriptions","organizations_url":"https://api.github.com/users/daveey/orgs","repos_url":"https://api.github.com/users/daveey/repos","events_url":"https://api.github.com/users/daveey/events{/privacy}","received_events_url":"https://api.github.com/users/daveey/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"sasmith","id":2469501,"node_id":"MDQ6VXNlcjI0Njk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/2469501?v=4","gravatar_id":"","url":"https://api.github.com/users/sasmith","html_url":"https://github.com/sasmith","followers_url":"https://api.github.com/users/sasmith/followers","following_url":"https://api.github.com/users/sasmith/following{/other_user}","gists_url":"https://api.github.com/users/sasmith/gists{/gist_id}","starred_url":"https://api.github.com/users/sasmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sasmith/subscriptions","organizations_url":"https://api.github.com/users/sasmith/orgs","repos_url":"https://api.github.com/users/sasmith/repos","events_url":"https://api.github.com/users/sasmith/events{/privacy}","received_events_url":"https://api.github.com/users/sasmith/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"Al-does","id":134578379,"node_id":"U_kgDOCAWAyw","avatar_url":"https://avatars.githubusercontent.com/u/134578379?v=4","gravatar_id":"","url":"https://api.github.com/users/Al-does","html_url":"https://github.com/Al-does","followers_url":"https://api.github.com/users/Al-does/followers","following_url":"https://api.github.com/users/Al-does/following{/other_user}","gists_url":"https://api.github.com/users/Al-does/gists{/gist_id}","starred_url":"https://api.github.com/users/Al-does/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Al-does/subscriptions","organizations_url":"https://api.github.com/users/Al-does/orgs","repos_url":"https://api.github.com/users/Al-does/repos","events_url":"https://api.github.com/users/Al-does/events{/privacy}","received_events_url":"https://api.github.com/users/Al-does/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/Metta-AI/metta/pulls/1923/commits","review_comments_url":"https://api.github.com/repos/Metta-AI/metta/pulls/1923/comments","review_comment_url":"https://api.github.com/repos/Metta-AI/metta/pulls/comments{/number}","comments_url":"https://api.github.com/repos/Metta-AI/metta/issues/1923/comments","statuses_url":"https://api.github.com/repos/Metta-AI/metta/statuses/6f6d99aa2ac5e12c5735ffdceb75a74eb95651f1","head":{"label":"Metta-AI:robb/0804-fix-common-skypilot-script","ref":"robb/0804-fix-common-skypilot-script","sha":"6f6d99aa2ac5e12c5735ffdceb75a74eb95651f1","user":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":843988367,"node_id":"R_kgDOMk49jw","name":"metta","full_name":"Metta-AI/metta","private":false,"owner":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Metta-AI/metta","description":"A
        href=\\\"https://bencher.dev/perf/metta/branches/robb-0804-fix-common-skypilot-script?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr%2Bcomments&utm_term=metta\\\">robb/0804-fix-common-skypilot-script</a></td></tr><tr><td>Testbed</td><td><a
        View full continuous benchmarking report in Bencher</a><div id=\\\"bencher.dev/projects/metta/id/robb-0804-fix-common-skypilot-script/ubuntu-latest/json\\\"></div>\",\"reactions\":{\"url\":\"https://api.github.com/repos/Metta-AI/metta/issues/comments/3153293191/reactions\",\"total_count\":0,\"+1\":0,\"-1\":0,\"laugh\":0,\"hooray\":0,\"confused\":0,\"heart\":0,\"rocket\":0,\"eyes\":0},\"performed_via_github_app\":{\"id\":15368,\"client_id\":\"Iv1.05c79e9ad1f6bdfa\",\"slug\":\"github-actions\",\"node_id\":\"MDM6QXBwMTUzNjg=\",\"owner\":{\"login\":\"github\",\"id\":9919,\"node_id\":\"MDEyOk9yZ2FuaXphdGlvbjk5MTk=\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/9919?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/github\",\"html_url\":\"https://github.com/github\",\"followers_url\":\"https://api.github.com/users/github/followers\",\"following_url\":\"https://api.github.com/users/github/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/github/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/github/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/github/subscriptions\",\"organizations_url\":\"https://api.github.com/users/github/orgs\",\"repos_url\":\"https://api.github.com/users/github/repos\",\"events_url\":\"https://api.github.com/users/github/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/github/received_events\",\"type\":\"Organization\",\"user_view_type\":\"public\",\"site_admin\":false},\"name\":\"GitHub
        \\\"feat: add common setup script for skypilot yaml config (#1822)\\\" (#1916)\\n\\nThis
        \\\"feat: add common setup script for skypilot yaml config (#1822)\\\" (#1916)\\n\\nThis
        href=\\\"https://bencher.dev/perf/metta/branches/robb-0804-fix-common-skypilot-script?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr%2Bcomments&utm_term=metta\\\">robb/0804-fix-common-skypilot-script</a></td></tr><tr><td>Testbed</td><td><a
        View full continuous benchmarking report in Bencher</a><div id=\\\"bencher.dev/projects/metta/id/robb-0804-fix-common-skypilot-script/ubuntu-latest/json\\\"></div>\",\"reactions\":{\"url\":\"https://api.github.com/repos/Metta-AI/metta/issues/comments/3153293191/reactions\",\"total_count\":0,\"+1\":0,\"-1\":0,\"laugh\":0,\"hooray\":0,\"confused\":0,\"heart\":0,\"rocket\":0,\"eyes\":0},\"performed_via_github_app\":{\"id\":15368,\"client_id\":\"Iv1.05c79e9ad1f6bdfa\",\"slug\":\"github-actions\",\"node_id\":\"MDM6QXBwMTUzNjg=\",\"owner\":{\"login\":\"github\",\"id\":9919,\"node_id\":\"MDEyOk9yZ2FuaXphdGlvbjk5MTk=\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/9919?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/github\",\"html_url\":\"https://github.com/github\",\"followers_url\":\"https://api.github.com/users/github/followers\",\"following_url\":\"https://api.github.com/users/github/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/github/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/github/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/github/subscriptions\",\"organizations_url\":\"https://api.github.com/users/github/orgs\",\"repos_url\":\"https://api.github.com/users/github/repos\",\"events_url\":\"https://api.github.com/users/github/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/github/received_events\",\"type\":\"Organization\",\"user_view_type\":\"public\",\"site_admin\":false},\"name\":\"GitHub
        reintroduce common skypilot script\",\"to\":\"fix: re-introduce common skypilot
        switch SkyPilot CI test to multi-node training","notes":"### Summary\r\nThis
        PR switches our GitHub Actions SkyPilot CI test from single-node to multi-node
        problem, we discovered that our SkyPilot setup scripts had bugs and were not
        The root issue is that SkyPilot exposes different environment variables in
        the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot provides cluster-specific
        environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`, `SKYPILOT_NODE_IPS`,
        `SKYPILOT_NODE_RANK`, etc.) that are **only available during the `run` phase**,
        SkyPilot variables are available\r\n- Added proper NCCL configuration for
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
        fix: reintroduce common skypilot script</a>\",\"is_pinned\":false,\"text\":\"Github
        Sync attached #1923 fix: reintroduce common skypilot script\",\"type\":\"system\",\"resource_subtype\":\"attachment_added\"},{\"gid\":\"1210971824207911\",\"created_at\":\"2025-08-05T05:00:24.230Z\",\"created_by\":{\"gid\":\"1209239425216249\",\"email\":\"stemaidaemon@gmail.com\",\"name\":\"Github
        Sync</a></b> changed the name to \\\"feat: switch SkyPilot CI test to multi-node
        SkyPilot CI test to multi-node training\\\"\",\"type\":\"system\",\"resource_subtype\":\"name_changed\"},{\"gid\":\"1211059524414945\",\"created_at\":\"2025-08-14T19:49:33.419Z\",\"created_by\":{\"gid\":\"1209239425216249\",\"email\":\"stemaidaemon@gmail.com\",\"name\":\"Github
Workflow: Asana Integration | Run: Asana Integration | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T21:06:09Z
        switch SkyPilot CI test to multi-node training","user":{"login":"rjwalters","id":2687775,"node_id":"MDQ6VXNlcjI2ODc3NzU=","avatar_url":"https://avatars.githubusercontent.com/u/2687775?v=4","gravatar_id":"","url":"https://api.github.com/users/rjwalters","html_url":"https://github.com/rjwalters","followers_url":"https://api.github.com/users/rjwalters/followers","following_url":"https://api.github.com/users/rjwalters/following{/other_user}","gists_url":"https://api.github.com/users/rjwalters/gists{/gist_id}","starred_url":"https://api.github.com/users/rjwalters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjwalters/subscriptions","organizations_url":"https://api.github.com/users/rjwalters/orgs","repos_url":"https://api.github.com/users/rjwalters/repos","events_url":"https://api.github.com/users/rjwalters/events{/privacy}","received_events_url":"https://api.github.com/users/rjwalters/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"###
        Summary\r\nThis PR switches our GitHub Actions SkyPilot CI test from single-node
        #1916. In debugging the problem, we discovered that our SkyPilot setup scripts
        distributed training. The root issue is that SkyPilot exposes different environment
        variables in the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot
        provides cluster-specific environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`,
        `SKYPILOT_NODE_IPS`, `SKYPILOT_NODE_RANK`, etc.) that are **only available
        `run` phase where SkyPilot variables are available\r\n- Added proper NCCL
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
        multi-node training works with these changes\r\n\r\n[[Asana Task](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1210972252470876)](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1210972252470876)","created_at":"2025-08-05T04:54:19Z","updated_at":"2025-08-14T21:06:06Z","closed_at":null,"merged_at":null,"merge_commit_sha":"b93fd454d3ed71045f7d1bac578dca3b74301f7b","assignee":{"login":"berekuk","id":89368,"node_id":"MDQ6VXNlcjg5MzY4","avatar_url":"https://avatars.githubusercontent.com/u/89368?v=4","gravatar_id":"","url":"https://api.github.com/users/berekuk","html_url":"https://github.com/berekuk","followers_url":"https://api.github.com/users/berekuk/followers","following_url":"https://api.github.com/users/berekuk/following{/other_user}","gists_url":"https://api.github.com/users/berekuk/gists{/gist_id}","starred_url":"https://api.github.com/users/berekuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berekuk/subscriptions","organizations_url":"https://api.github.com/users/berekuk/orgs","repos_url":"https://api.github.com/users/berekuk/repos","events_url":"https://api.github.com/users/berekuk/events{/privacy}","received_events_url":"https://api.github.com/users/berekuk/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"berekuk","id":89368,"node_id":"MDQ6VXNlcjg5MzY4","avatar_url":"https://avatars.githubusercontent.com/u/89368?v=4","gravatar_id":"","url":"https://api.github.com/users/berekuk","html_url":"https://github.com/berekuk","followers_url":"https://api.github.com/users/berekuk/followers","following_url":"https://api.github.com/users/berekuk/following{/other_user}","gists_url":"https://api.github.com/users/berekuk/gists{/gist_id}","starred_url":"https://api.github.com/users/berekuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berekuk/subscriptions","organizations_url":"https://api.github.com/users/berekuk/orgs","repos_url":"https://api.github.com/users/berekuk/repos","events_url":"https://api.github.com/users/berekuk/events{/privacy}","received_events_url":"https://api.github.com/users/berekuk/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"relh","id":3629411,"node_id":"MDQ6VXNlcjM2Mjk0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/3629411?v=4","gravatar_id":"","url":"https://api.github.com/users/relh","html_url":"https://github.com/relh","followers_url":"https://api.github.com/users/relh/followers","following_url":"https://api.github.com/users/relh/following{/other_user}","gists_url":"https://api.github.com/users/relh/gists{/gist_id}","starred_url":"https://api.github.com/users/relh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/relh/subscriptions","organizations_url":"https://api.github.com/users/relh/orgs","repos_url":"https://api.github.com/users/relh/repos","events_url":"https://api.github.com/users/relh/events{/privacy}","received_events_url":"https://api.github.com/users/relh/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_reviewers":[{"login":"daveey","id":452472,"node_id":"MDQ6VXNlcjQ1MjQ3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/452472?v=4","gravatar_id":"","url":"https://api.github.com/users/daveey","html_url":"https://github.com/daveey","followers_url":"https://api.github.com/users/daveey/followers","following_url":"https://api.github.com/users/daveey/following{/other_user}","gists_url":"https://api.github.com/users/daveey/gists{/gist_id}","starred_url":"https://api.github.com/users/daveey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daveey/subscriptions","organizations_url":"https://api.github.com/users/daveey/orgs","repos_url":"https://api.github.com/users/daveey/repos","events_url":"https://api.github.com/users/daveey/events{/privacy}","received_events_url":"https://api.github.com/users/daveey/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"sasmith","id":2469501,"node_id":"MDQ6VXNlcjI0Njk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/2469501?v=4","gravatar_id":"","url":"https://api.github.com/users/sasmith","html_url":"https://github.com/sasmith","followers_url":"https://api.github.com/users/sasmith/followers","following_url":"https://api.github.com/users/sasmith/following{/other_user}","gists_url":"https://api.github.com/users/sasmith/gists{/gist_id}","starred_url":"https://api.github.com/users/sasmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sasmith/subscriptions","organizations_url":"https://api.github.com/users/sasmith/orgs","repos_url":"https://api.github.com/users/sasmith/repos","events_url":"https://api.github.com/users/sasmith/events{/privacy}","received_events_url":"https://api.github.com/users/sasmith/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"Al-does","id":134578379,"node_id":"U_kgDOCAWAyw","avatar_url":"https://avatars.githubusercontent.com/u/134578379?v=4","gravatar_id":"","url":"https://api.github.com/users/Al-does","html_url":"https://github.com/Al-does","followers_url":"https://api.github.com/users/Al-does/followers","following_url":"https://api.github.com/users/Al-does/following{/other_user}","gists_url":"https://api.github.com/users/Al-does/gists{/gist_id}","starred_url":"https://api.github.com/users/Al-does/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Al-does/subscriptions","organizations_url":"https://api.github.com/users/Al-does/orgs","repos_url":"https://api.github.com/users/Al-does/repos","events_url":"https://api.github.com/users/Al-does/events{/privacy}","received_events_url":"https://api.github.com/users/Al-does/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/Metta-AI/metta/pulls/1923/commits","review_comments_url":"https://api.github.com/repos/Metta-AI/metta/pulls/1923/comments","review_comment_url":"https://api.github.com/repos/Metta-AI/metta/pulls/comments{/number}","comments_url":"https://api.github.com/repos/Metta-AI/metta/issues/1923/comments","statuses_url":"https://api.github.com/repos/Metta-AI/metta/statuses/6f6d99aa2ac5e12c5735ffdceb75a74eb95651f1","head":{"label":"Metta-AI:robb/0804-fix-common-skypilot-script","ref":"robb/0804-fix-common-skypilot-script","sha":"6f6d99aa2ac5e12c5735ffdceb75a74eb95651f1","user":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":843988367,"node_id":"R_kgDOMk49jw","name":"metta","full_name":"Metta-AI/metta","private":false,"owner":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Metta-AI/metta","description":"A
        href=\\\"https://bencher.dev/perf/metta/branches/robb-0804-fix-common-skypilot-script?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr%2Bcomments&utm_term=metta\\\">robb/0804-fix-common-skypilot-script</a></td></tr><tr><td>Testbed</td><td><a
        View full continuous benchmarking report in Bencher</a><div id=\\\"bencher.dev/projects/metta/id/robb-0804-fix-common-skypilot-script/ubuntu-latest/json\\\"></div>\",\"reactions\":{\"url\":\"https://api.github.com/repos/Metta-AI/metta/issues/comments/3153293191/reactions\",\"total_count\":0,\"+1\":0,\"-1\":0,\"laugh\":0,\"hooray\":0,\"confused\":0,\"heart\":0,\"rocket\":0,\"eyes\":0},\"performed_via_github_app\":{\"id\":15368,\"client_id\":\"Iv1.05c79e9ad1f6bdfa\",\"slug\":\"github-actions\",\"node_id\":\"MDM6QXBwMTUzNjg=\",\"owner\":{\"login\":\"github\",\"id\":9919,\"node_id\":\"MDEyOk9yZ2FuaXphdGlvbjk5MTk=\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/9919?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/github\",\"html_url\":\"https://github.com/github\",\"followers_url\":\"https://api.github.com/users/github/followers\",\"following_url\":\"https://api.github.com/users/github/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/github/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/github/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/github/subscriptions\",\"organizations_url\":\"https://api.github.com/users/github/orgs\",\"repos_url\":\"https://api.github.com/users/github/repos\",\"events_url\":\"https://api.github.com/users/github/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/github/received_events\",\"type\":\"Organization\",\"user_view_type\":\"public\",\"site_admin\":false},\"name\":\"GitHub
        \\\"feat: add common setup script for skypilot yaml config (#1822)\\\" (#1916)\\n\\nThis
        \\\"feat: add common setup script for skypilot yaml config (#1822)\\\" (#1916)\\n\\nThis
        href=\\\"https://bencher.dev/perf/metta/branches/robb-0804-fix-common-skypilot-script?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr%2Bcomments&utm_term=metta\\\">robb/0804-fix-common-skypilot-script</a></td></tr><tr><td>Testbed</td><td><a
        View full continuous benchmarking report in Bencher</a><div id=\\\"bencher.dev/projects/metta/id/robb-0804-fix-common-skypilot-script/ubuntu-latest/json\\\"></div>\",\"reactions\":{\"url\":\"https://api.github.com/repos/Metta-AI/metta/issues/comments/3153293191/reactions\",\"total_count\":0,\"+1\":0,\"-1\":0,\"laugh\":0,\"hooray\":0,\"confused\":0,\"heart\":0,\"rocket\":0,\"eyes\":0},\"performed_via_github_app\":{\"id\":15368,\"client_id\":\"Iv1.05c79e9ad1f6bdfa\",\"slug\":\"github-actions\",\"node_id\":\"MDM6QXBwMTUzNjg=\",\"owner\":{\"login\":\"github\",\"id\":9919,\"node_id\":\"MDEyOk9yZ2FuaXphdGlvbjk5MTk=\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/9919?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/github\",\"html_url\":\"https://github.com/github\",\"followers_url\":\"https://api.github.com/users/github/followers\",\"following_url\":\"https://api.github.com/users/github/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/github/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/github/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/github/subscriptions\",\"organizations_url\":\"https://api.github.com/users/github/orgs\",\"repos_url\":\"https://api.github.com/users/github/repos\",\"events_url\":\"https://api.github.com/users/github/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/github/received_events\",\"type\":\"Organization\",\"user_view_type\":\"public\",\"site_admin\":false},\"name\":\"GitHub
        reintroduce common skypilot script\",\"to\":\"fix: re-introduce common skypilot
        switch SkyPilot CI test to multi-node training","notes":"### Summary\r\nThis
        PR switches our GitHub Actions SkyPilot CI test from single-node to multi-node
        problem, we discovered that our SkyPilot setup scripts had bugs and were not
        The root issue is that SkyPilot exposes different environment variables in
        the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot provides cluster-specific
        environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`, `SKYPILOT_NODE_IPS`,
        `SKYPILOT_NODE_RANK`, etc.) that are **only available during the `run` phase**,
        SkyPilot variables are available\r\n- Added proper NCCL configuration for
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
        fix: reintroduce common skypilot script</a>\",\"is_pinned\":false,\"text\":\"Github
        Sync attached #1923 fix: reintroduce common skypilot script\",\"type\":\"system\",\"resource_subtype\":\"attachment_added\"},{\"gid\":\"1210971824207911\",\"created_at\":\"2025-08-05T05:00:24.230Z\",\"created_by\":{\"gid\":\"1209239425216249\",\"email\":\"stemaidaemon@gmail.com\",\"name\":\"Github
        Sync</a></b> changed the name to \\\"feat: switch SkyPilot CI test to multi-node
        SkyPilot CI test to multi-node training\\\"\",\"type\":\"system\",\"resource_subtype\":\"name_changed\"},{\"gid\":\"1211059524414945\",\"created_at\":\"2025-08-14T19:49:33.419Z\",\"created_by\":{\"gid\":\"1209239425216249\",\"email\":\"stemaidaemon@gmail.com\",\"name\":\"Github
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T21:11:28Z
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T21:14:28Z
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T21:18:40Z
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T21:26:57Z
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T21:39:15Z
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T22:13:10Z
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T22:16:55Z
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T22:24:33Z
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T22:33:38Z
Workflow: Asana Integration | Run: Asana Integration | Branch: robb/0804-fix-common-skypilot-script | Created: 2025-08-14T22:45:38Z
        switch SkyPilot CI test to multi-node training","user":{"login":"rjwalters","id":2687775,"node_id":"MDQ6VXNlcjI2ODc3NzU=","avatar_url":"https://avatars.githubusercontent.com/u/2687775?v=4","gravatar_id":"","url":"https://api.github.com/users/rjwalters","html_url":"https://github.com/rjwalters","followers_url":"https://api.github.com/users/rjwalters/followers","following_url":"https://api.github.com/users/rjwalters/following{/other_user}","gists_url":"https://api.github.com/users/rjwalters/gists{/gist_id}","starred_url":"https://api.github.com/users/rjwalters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjwalters/subscriptions","organizations_url":"https://api.github.com/users/rjwalters/orgs","repos_url":"https://api.github.com/users/rjwalters/repos","events_url":"https://api.github.com/users/rjwalters/events{/privacy}","received_events_url":"https://api.github.com/users/rjwalters/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"###
        Summary\r\nThis PR switches our GitHub Actions SkyPilot CI test from single-node
        #1916. In debugging the problem, we discovered that our SkyPilot setup scripts
        distributed training. The root issue is that SkyPilot exposes different environment
        variables in the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot
        provides cluster-specific environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`,
        `SKYPILOT_NODE_IPS`, `SKYPILOT_NODE_RANK`, etc.) that are **only available
        `run` phase where SkyPilot variables are available\r\n- Added proper NCCL
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
        multi-node training works with these changes\r\n\r\n[[Asana Task](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1210972252470876)](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1210972252470876)","created_at":"2025-08-05T04:54:19Z","updated_at":"2025-08-14T22:45:36Z","closed_at":"2025-08-14T22:45:36Z","merged_at":"2025-08-14T22:45:35Z","merge_commit_sha":"507d5d1012a13ef13c6980c99717b7f9b8246818","assignee":{"login":"berekuk","id":89368,"node_id":"MDQ6VXNlcjg5MzY4","avatar_url":"https://avatars.githubusercontent.com/u/89368?v=4","gravatar_id":"","url":"https://api.github.com/users/berekuk","html_url":"https://github.com/berekuk","followers_url":"https://api.github.com/users/berekuk/followers","following_url":"https://api.github.com/users/berekuk/following{/other_user}","gists_url":"https://api.github.com/users/berekuk/gists{/gist_id}","starred_url":"https://api.github.com/users/berekuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berekuk/subscriptions","organizations_url":"https://api.github.com/users/berekuk/orgs","repos_url":"https://api.github.com/users/berekuk/repos","events_url":"https://api.github.com/users/berekuk/events{/privacy}","received_events_url":"https://api.github.com/users/berekuk/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"berekuk","id":89368,"node_id":"MDQ6VXNlcjg5MzY4","avatar_url":"https://avatars.githubusercontent.com/u/89368?v=4","gravatar_id":"","url":"https://api.github.com/users/berekuk","html_url":"https://github.com/berekuk","followers_url":"https://api.github.com/users/berekuk/followers","following_url":"https://api.github.com/users/berekuk/following{/other_user}","gists_url":"https://api.github.com/users/berekuk/gists{/gist_id}","starred_url":"https://api.github.com/users/berekuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/berekuk/subscriptions","organizations_url":"https://api.github.com/users/berekuk/orgs","repos_url":"https://api.github.com/users/berekuk/repos","events_url":"https://api.github.com/users/berekuk/events{/privacy}","received_events_url":"https://api.github.com/users/berekuk/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"relh","id":3629411,"node_id":"MDQ6VXNlcjM2Mjk0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/3629411?v=4","gravatar_id":"","url":"https://api.github.com/users/relh","html_url":"https://github.com/relh","followers_url":"https://api.github.com/users/relh/followers","following_url":"https://api.github.com/users/relh/following{/other_user}","gists_url":"https://api.github.com/users/relh/gists{/gist_id}","starred_url":"https://api.github.com/users/relh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/relh/subscriptions","organizations_url":"https://api.github.com/users/relh/orgs","repos_url":"https://api.github.com/users/relh/repos","events_url":"https://api.github.com/users/relh/events{/privacy}","received_events_url":"https://api.github.com/users/relh/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_reviewers":[{"login":"daveey","id":452472,"node_id":"MDQ6VXNlcjQ1MjQ3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/452472?v=4","gravatar_id":"","url":"https://api.github.com/users/daveey","html_url":"https://github.com/daveey","followers_url":"https://api.github.com/users/daveey/followers","following_url":"https://api.github.com/users/daveey/following{/other_user}","gists_url":"https://api.github.com/users/daveey/gists{/gist_id}","starred_url":"https://api.github.com/users/daveey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daveey/subscriptions","organizations_url":"https://api.github.com/users/daveey/orgs","repos_url":"https://api.github.com/users/daveey/repos","events_url":"https://api.github.com/users/daveey/events{/privacy}","received_events_url":"https://api.github.com/users/daveey/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"sasmith","id":2469501,"node_id":"MDQ6VXNlcjI0Njk1MDE=","avatar_url":"https://avatars.githubusercontent.com/u/2469501?v=4","gravatar_id":"","url":"https://api.github.com/users/sasmith","html_url":"https://github.com/sasmith","followers_url":"https://api.github.com/users/sasmith/followers","following_url":"https://api.github.com/users/sasmith/following{/other_user}","gists_url":"https://api.github.com/users/sasmith/gists{/gist_id}","starred_url":"https://api.github.com/users/sasmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sasmith/subscriptions","organizations_url":"https://api.github.com/users/sasmith/orgs","repos_url":"https://api.github.com/users/sasmith/repos","events_url":"https://api.github.com/users/sasmith/events{/privacy}","received_events_url":"https://api.github.com/users/sasmith/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"Al-does","id":134578379,"node_id":"U_kgDOCAWAyw","avatar_url":"https://avatars.githubusercontent.com/u/134578379?v=4","gravatar_id":"","url":"https://api.github.com/users/Al-does","html_url":"https://github.com/Al-does","followers_url":"https://api.github.com/users/Al-does/followers","following_url":"https://api.github.com/users/Al-does/following{/other_user}","gists_url":"https://api.github.com/users/Al-does/gists{/gist_id}","starred_url":"https://api.github.com/users/Al-does/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Al-does/subscriptions","organizations_url":"https://api.github.com/users/Al-does/orgs","repos_url":"https://api.github.com/users/Al-does/repos","events_url":"https://api.github.com/users/Al-does/events{/privacy}","received_events_url":"https://api.github.com/users/Al-does/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/Metta-AI/metta/pulls/1923/commits","review_comments_url":"https://api.github.com/repos/Metta-AI/metta/pulls/1923/comments","review_comment_url":"https://api.github.com/repos/Metta-AI/metta/pulls/comments{/number}","comments_url":"https://api.github.com/repos/Metta-AI/metta/issues/1923/comments","statuses_url":"https://api.github.com/repos/Metta-AI/metta/statuses/95b003e5ffc7f0f464ae0990bc5dc5e46d4188bc","head":{"label":"Metta-AI:robb/0804-fix-common-skypilot-script","ref":"robb/0804-fix-common-skypilot-script","sha":"95b003e5ffc7f0f464ae0990bc5dc5e46d4188bc","user":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":843988367,"node_id":"R_kgDOMk49jw","name":"metta","full_name":"Metta-AI/metta","private":false,"owner":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Metta-AI/metta","description":"A
        href=\\\"https://bencher.dev/perf/metta/branches/robb-0804-fix-common-skypilot-script?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr%2Bcomments&utm_term=metta\\\">robb/0804-fix-common-skypilot-script</a></td></tr><tr><td>Testbed</td><td><a
        View full continuous benchmarking report in Bencher</a><div id=\\\"bencher.dev/projects/metta/id/robb-0804-fix-common-skypilot-script/ubuntu-latest/json\\\"></div>\",\"reactions\":{\"url\":\"https://api.github.com/repos/Metta-AI/metta/issues/comments/3153293191/reactions\",\"total_count\":0,\"+1\":0,\"-1\":0,\"laugh\":0,\"hooray\":0,\"confused\":0,\"heart\":0,\"rocket\":0,\"eyes\":0},\"performed_via_github_app\":{\"id\":15368,\"client_id\":\"Iv1.05c79e9ad1f6bdfa\",\"slug\":\"github-actions\",\"node_id\":\"MDM6QXBwMTUzNjg=\",\"owner\":{\"login\":\"github\",\"id\":9919,\"node_id\":\"MDEyOk9yZ2FuaXphdGlvbjk5MTk=\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/9919?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/github\",\"html_url\":\"https://github.com/github\",\"followers_url\":\"https://api.github.com/users/github/followers\",\"following_url\":\"https://api.github.com/users/github/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/github/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/github/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/github/subscriptions\",\"organizations_url\":\"https://api.github.com/users/github/orgs\",\"repos_url\":\"https://api.github.com/users/github/repos\",\"events_url\":\"https://api.github.com/users/github/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/github/received_events\",\"type\":\"Organization\",\"user_view_type\":\"public\",\"site_admin\":false},\"name\":\"GitHub
        \\\"feat: add common setup script for skypilot yaml config (#1822)\\\" (#1916)\\n\\nThis
        \\\"feat: add common setup script for skypilot yaml config (#1822)\\\" (#1916)\\n\\nThis
        href=\\\"https://bencher.dev/perf/metta/branches/robb-0804-fix-common-skypilot-script?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr%2Bcomments&utm_term=metta\\\">robb/0804-fix-common-skypilot-script</a></td></tr><tr><td>Testbed</td><td><a
        View full continuous benchmarking report in Bencher</a><div id=\\\"bencher.dev/projects/metta/id/robb-0804-fix-common-skypilot-script/ubuntu-latest/json\\\"></div>\",\"reactions\":{\"url\":\"https://api.github.com/repos/Metta-AI/metta/issues/comments/3153293191/reactions\",\"total_count\":0,\"+1\":0,\"-1\":0,\"laugh\":0,\"hooray\":0,\"confused\":0,\"heart\":0,\"rocket\":0,\"eyes\":0},\"performed_via_github_app\":{\"id\":15368,\"client_id\":\"Iv1.05c79e9ad1f6bdfa\",\"slug\":\"github-actions\",\"node_id\":\"MDM6QXBwMTUzNjg=\",\"owner\":{\"login\":\"github\",\"id\":9919,\"node_id\":\"MDEyOk9yZ2FuaXphdGlvbjk5MTk=\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/9919?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/github\",\"html_url\":\"https://github.com/github\",\"followers_url\":\"https://api.github.com/users/github/followers\",\"following_url\":\"https://api.github.com/users/github/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/github/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/github/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/github/subscriptions\",\"organizations_url\":\"https://api.github.com/users/github/orgs\",\"repos_url\":\"https://api.github.com/users/github/repos\",\"events_url\":\"https://api.github.com/users/github/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/github/received_events\",\"type\":\"Organization\",\"user_view_type\":\"public\",\"site_admin\":false},\"name\":\"GitHub
        reintroduce common skypilot script\",\"to\":\"fix: re-introduce common skypilot
        switch SkyPilot CI test to multi-node training","notes":"### Summary\r\nThis
        PR switches our GitHub Actions SkyPilot CI test from single-node to multi-node
        problem, we discovered that our SkyPilot setup scripts had bugs and were not
        The root issue is that SkyPilot exposes different environment variables in
        the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot provides cluster-specific
        environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`, `SKYPILOT_NODE_IPS`,
        `SKYPILOT_NODE_RANK`, etc.) that are **only available during the `run` phase**,
        SkyPilot variables are available\r\n- Added proper NCCL configuration for
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
    body: '{"data": {"name": "feat: switch SkyPilot CI test to multi-node training",
      "notes": "### Summary\r\nThis PR switches our GitHub Actions SkyPilot CI test
      In debugging the problem, we discovered that our SkyPilot setup scripts had
      training. The root issue is that SkyPilot exposes different environment variables
      in the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot provides
      cluster-specific environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`, `SKYPILOT_NODE_IPS`,
      `SKYPILOT_NODE_RANK`, etc.) that are **only available during the `run` phase**,
      Moved environment configuration from `setup` to `run` phase where SkyPilot variables
      tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
      variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
      variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
      of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
      is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
      `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these are
        Walters"},"notes":"### Summary\r\nThis PR switches our GitHub Actions SkyPilot
        training in #1916. In debugging the problem, we discovered that our SkyPilot
        needed for distributed training. The root issue is that SkyPilot exposes different
        environment variables in the `setup` vs `run` phases.\r\n\r\n### The Problem\r\nSkyPilot
        provides cluster-specific environment variables (`SKYPILOT_NUM_GPUS_PER_NODE`,
        `SKYPILOT_NODE_IPS`, `SKYPILOT_NODE_RANK`, etc.) that are **only available
        `run` phase where SkyPilot variables are available\r\n- Added proper NCCL
        tests before training starts\r\n\r\n### SkyPilot Documentation\r\nThe environment
        variables are documented here: [[SkyPilot Environment Variables](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)](https://skypilot.readthedocs.io/en/latest/running-jobs/environment-variables.html)\r\n\r\nKey
        variables for distributed training:\r\n- `SKYPILOT_NUM_GPUS_PER_NODE` - Number
        of GPUs on each node\r\n- `SKYPILOT_NODE_IPS` - List of all node IPs (master
        is first)\r\n- `SKYPILOT_NODE_RANK` - Current node''s rank (0 for master)\r\n-
        `SKYPILOT_NUM_NODES` - Total number of nodes\r\n\r\nThe docs confirm these
        switch SkyPilot CI test to multi-node training","modified_at":"2025-08-14T22:47:20.858Z","created_at":"2025-08-05T04:54:41.555Z","resource_type":"task","tags":[],"parent":null,"likes":[],"hearts":[],"liked":false,"hearted":false,"memberships":[{"project":{"gid":"1210348820405981","resource_type":"project","name":"Github
      "feat: switch SkyPilot CI test to multi-node training", "pullRequestDescription":
        fix: reintroduce common skypilot script</a>\",\"is_pinned\":false,\"text\":\"Github
        Sync attached #1923 fix: reintroduce common skypilot script\",\"type\":\"system\",\"resource_subtype\":\"attachment_added\"},{\"gid\":\"1210971824207911\",\"created_at\":\"2025-08-05T05:00:24.230Z\",\"created_by\":{\"gid\":\"1209239425216249\",\"email\":\"stemaidaemon@gmail.com\",\"name\":\"Github
        Sync</a></b> changed the name to \\\"feat: switch SkyPilot CI test to multi-node
        SkyPilot CI test to multi-node training\\\"\",\"type\":\"system\",\"resource_subtype\":\"name_changed\"},{\"gid\":\"1211059524414945\",\"created_at\":\"2025-08-14T19:49:33.419Z\",\"created_by\":{\"gid\":\"1209239425216249\",\"email\":\"stemaidaemon@gmail.com\",\"name\":\"Github
Workflow: Test and Benchmark | Run: Test and Benchmark | Branch: robb/0814-skypilot-rank-env | Created: 2025-08-15T04:45:41Z
Workflow: Asana Integration | Run: Asana Integration | Branch: robb/0814-skypilot-rank-env | Created: 2025-08-15T04:45:41Z
        to trigger main for debugging","created_at":"2025-08-15T04:45:37Z","updated_at":"2025-08-15T04:45:49Z","closed_at":"2025-08-15T04:45:47Z","merged_at":"2025-08-15T04:45:47Z","merge_commit_sha":"c0ce0bc3f5074b3669e6244bf0a23977d94745bb","assignee":null,"assignees":[],"requested_reviewers":[{"login":"daveey","id":452472,"node_id":"MDQ6VXNlcjQ1MjQ3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/452472?v=4","gravatar_id":"","url":"https://api.github.com/users/daveey","html_url":"https://github.com/daveey","followers_url":"https://api.github.com/users/daveey/followers","following_url":"https://api.github.com/users/daveey/following{/other_user}","gists_url":"https://api.github.com/users/daveey/gists{/gist_id}","starred_url":"https://api.github.com/users/daveey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daveey/subscriptions","organizations_url":"https://api.github.com/users/daveey/orgs","repos_url":"https://api.github.com/users/daveey/repos","events_url":"https://api.github.com/users/daveey/events{/privacy}","received_events_url":"https://api.github.com/users/daveey/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/Metta-AI/metta/pulls/2131/commits","review_comments_url":"https://api.github.com/repos/Metta-AI/metta/pulls/2131/comments","review_comment_url":"https://api.github.com/repos/Metta-AI/metta/pulls/comments{/number}","comments_url":"https://api.github.com/repos/Metta-AI/metta/issues/2131/comments","statuses_url":"https://api.github.com/repos/Metta-AI/metta/statuses/970e93c655a79f77f8fdd6f1a8a6736842011032","head":{"label":"Metta-AI:robb/0814-skypilot-rank-env","ref":"robb/0814-skypilot-rank-env","sha":"970e93c655a79f77f8fdd6f1a8a6736842011032","user":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":843988367,"node_id":"R_kgDOMk49jw","name":"metta","full_name":"Metta-AI/metta","private":false,"owner":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Metta-AI/metta","description":"A
Workflow: Asana Integration | Run: Asana Integration | Branch: robb/0814-skypilot-rank-env | Created: 2025-08-15T04:45:50Z
        to trigger main for debugging\n\n[Asana Task](https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1211061738530303)","created_at":"2025-08-15T04:45:37Z","updated_at":"2025-08-15T04:46:06Z","closed_at":"2025-08-15T04:45:47Z","merged_at":"2025-08-15T04:45:47Z","merge_commit_sha":"c0ce0bc3f5074b3669e6244bf0a23977d94745bb","assignee":null,"assignees":[],"requested_reviewers":[{"login":"daveey","id":452472,"node_id":"MDQ6VXNlcjQ1MjQ3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/452472?v=4","gravatar_id":"","url":"https://api.github.com/users/daveey","html_url":"https://github.com/daveey","followers_url":"https://api.github.com/users/daveey/followers","following_url":"https://api.github.com/users/daveey/following{/other_user}","gists_url":"https://api.github.com/users/daveey/gists{/gist_id}","starred_url":"https://api.github.com/users/daveey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daveey/subscriptions","organizations_url":"https://api.github.com/users/daveey/orgs","repos_url":"https://api.github.com/users/daveey/repos","events_url":"https://api.github.com/users/daveey/events{/privacy}","received_events_url":"https://api.github.com/users/daveey/received_events","type":"User","user_view_type":"public","site_admin":false}],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/Metta-AI/metta/pulls/2131/commits","review_comments_url":"https://api.github.com/repos/Metta-AI/metta/pulls/2131/comments","review_comment_url":"https://api.github.com/repos/Metta-AI/metta/pulls/comments{/number}","comments_url":"https://api.github.com/repos/Metta-AI/metta/issues/2131/comments","statuses_url":"https://api.github.com/repos/Metta-AI/metta/statuses/970e93c655a79f77f8fdd6f1a8a6736842011032","head":{"label":"Metta-AI:robb/0814-skypilot-rank-env","ref":"robb/0814-skypilot-rank-env","sha":"970e93c655a79f77f8fdd6f1a8a6736842011032","user":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"repo":{"id":843988367,"node_id":"R_kgDOMk49jw","name":"metta","full_name":"Metta-AI/metta","private":false,"owner":{"login":"Metta-AI","id":178685062,"node_id":"O_kgDOCqaEhg","avatar_url":"https://avatars.githubusercontent.com/u/178685062?v=4","gravatar_id":"","url":"https://api.github.com/users/Metta-AI","html_url":"https://github.com/Metta-AI","followers_url":"https://api.github.com/users/Metta-AI/followers","following_url":"https://api.github.com/users/Metta-AI/following{/other_user}","gists_url":"https://api.github.com/users/Metta-AI/gists{/gist_id}","starred_url":"https://api.github.com/users/Metta-AI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Metta-AI/subscriptions","organizations_url":"https://api.github.com/users/Metta-AI/orgs","repos_url":"https://api.github.com/users/Metta-AI/repos","events_url":"https://api.github.com/users/Metta-AI/events{/privacy}","received_events_url":"https://api.github.com/users/Metta-AI/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Metta-AI/metta","description":"A
        set skypilot pr status explicitly","user":{"login":"rjwalters","id":2687775,"node_id":"MDQ6VXNlcjI2ODc3NzU=","avatar_url":"https://avatars.githubusercontent.com/u/2687775?v=4","gravatar_id":"","url":"https://api.github.com/users/rjwalters","html_url":"https://github.com/rjwalters","followers_url":"https://api.github.com/users/rjwalters/followers","following_url":"https://api.github.com/users/rjwalters/following{/other_user}","gists_url":"https://api.github.com/users/rjwalters/gists{/gist_id}","starred_url":"https://api.github.com/users/rjwalters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjwalters/subscriptions","organizations_url":"https://api.github.com/users/rjwalters/orgs","repos_url":"https://api.github.com/users/rjwalters/repos","events_url":"https://api.github.com/users/rjwalters/events{/privacy}","received_events_url":"https://api.github.com/users/rjwalters/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\nSkyPilot
        Include SkyPilot task ID in status descriptions for easier debugging\r\n\r\n###
    body: '{"data": {"name": "fix: set skypilot pr status explicitly", "notes": "\r\nSkyPilot
      Include SkyPilot task ID in status descriptions for easier debugging\r\n\r\n###
      string: '{"data":{"gid":"1211067106119479","num_likes":0,"num_hearts":0,"workspace":{"gid":"1209016784099267","resource_type":"workspace","name":"Softmax"},"start_at":null,"start_on":null,"resource_subtype":"default_task","due_at":null,"due_on":null,"completed_at":null,"assignee_status":"upcoming","completed":false,"actual_time_minutes":0,"assignee":null,"notes":"\r\nSkyPilot
        Include SkyPilot task ID in status descriptions for easier debugging\r\n\r\n###
        are code-related or infrastructure-related.","name":"fix: set skypilot pr
      "fix: set skypilot pr status explicitly", "pullRequestDescription": "https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1211067106119479",
        fix: set skypilot pr status explicitly</a>","is_pinned":false,"text":"Github
        Sync attached #2138 fix: set skypilot pr status explicitly","type":"system","resource_subtype":"attachment_added"}]}'
        set skypilot pr status explicitly","user":{"login":"rjwalters","id":2687775,"node_id":"MDQ6VXNlcjI2ODc3NzU=","avatar_url":"https://avatars.githubusercontent.com/u/2687775?v=4","gravatar_id":"","url":"https://api.github.com/users/rjwalters","html_url":"https://github.com/rjwalters","followers_url":"https://api.github.com/users/rjwalters/followers","following_url":"https://api.github.com/users/rjwalters/following{/other_user}","gists_url":"https://api.github.com/users/rjwalters/gists{/gist_id}","starred_url":"https://api.github.com/users/rjwalters/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjwalters/subscriptions","organizations_url":"https://api.github.com/users/rjwalters/orgs","repos_url":"https://api.github.com/users/rjwalters/repos","events_url":"https://api.github.com/users/rjwalters/events{/privacy}","received_events_url":"https://api.github.com/users/rjwalters/received_events","type":"User","user_view_type":"public","site_admin":false},"body":"\r\nSkyPilot
        Include SkyPilot task ID in status descriptions for easier debugging\r\n\r\n###
        set skypilot pr status explicitly","notes":"\r\nSkyPilot jobs that complete
        (NCCL failures) vs `failure` for code issues\r\n- Include SkyPilot task ID
    body: '{"data": {"name": "fix: set skypilot pr status explicitly", "notes": "\r\nSkyPilot
      Include SkyPilot task ID in status descriptions for easier debugging\r\n\r\n###
        PRs"}],"num_likes":0,"num_hearts":0,"workspace":{"gid":"1209016784099267","resource_type":"workspace","name":"Softmax"},"start_at":null,"start_on":null,"resource_subtype":"default_task","due_at":null,"due_on":null,"completed_at":"2025-08-15T16:36:46.803Z","assignee_status":"upcoming","completed":true,"actual_time_minutes":0,"assignee":null,"notes":"\r\nSkyPilot
        Include SkyPilot task ID in status descriptions for easier debugging\r\n\r\n###
        set skypilot pr status explicitly","modified_at":"2025-08-15T16:36:47.295Z","created_at":"2025-08-15T16:36:22.376Z","resource_type":"task","tags":[],"parent":null,"likes":[],"hearts":[],"liked":false,"hearted":false,"memberships":[{"project":{"gid":"1210348820405981","resource_type":"project","name":"Github
      "fix: set skypilot pr status explicitly", "pullRequestDescription": "https://app.asana.com/1/1209016784099267/project/1210348820405981/task/1211067106119479",
        fix: set skypilot pr status explicitly</a>","is_pinned":false,"text":"Github
        Sync attached #2138 fix: set skypilot pr status explicitly","type":"system","resource_subtype":"attachment_added"},{"gid":"1211067109210077","created_at":"2025-08-15T16:36:46.831Z","created_by":{"gid":"1209239425216249","email":"stemaidaemon@gmail.com","name":"Github
