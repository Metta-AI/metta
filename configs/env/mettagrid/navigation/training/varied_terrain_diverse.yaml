# This YAML file configures the grid world environment using the VariedTerrainDiverse class.
# In this environment, obstacles are generated along with a new object type “blocks.”
# Blocks are rectangular structures with dimensions sampled uniformly between 2 and 14.
# The parameter "blocks.count" determines how many blocks (between 0 and 10) are scattered
# in the environment. These blocks will not overlap other objects.
# Additional parameters for large obstacles, small obstacles, crosses, mini labyrinths, scattered walls,
# altars (hearts_count), and clumpiness are also specified.

defaults:
  - ../../mettagrid@

sampling: 5

game:
  num_agents: 20
  map_builder:
    _target_: mettagrid.config.room.multi_room.MultiRoom
    num_rooms: 2
    border_width: 4

    room:
      # Target the VariedTerrainDiverse environment.
      _target_: mettagrid.config.room.varied_terrain_diverse.VariedTerrainDiverse
      width: ${uniform:60,80,1}         # Room width between 60 and 80.
      height: ${uniform:60,80,1}        # Room height between 60 and 80.
      border_width: ${uniform:1,4,1}
      agents: 10
      objects:
         altar: ${uniform:30,60,1}       # Altars with heart items.
         # No "wall" here since obstacles are generated automatically.
      
      # Parameters for obstacles:
      large_obstacles:
         size_range: [10, 25]
         count: ${uniform:5,10,1}        # Number of large obstacles between 5 and 10.
      small_obstacles:
         size_range: [3, 6]
         count: ${uniform:5,10,1}        # Number of small obstacles between 5 and 10.
      crosses:
         count: ${uniform:2,5,1}         # Number of cross obstacles between 2 and 5.
      hearts_count: ${uniform:50,100,1}   # Number of heart altars between 50 and 100.
      clumpiness: ${uniform:0,3,1}        # Clumpiness factor.
      
      # Parameters for mini labyrinths.
      labyrinths:
         count: ${uniform:6,10,1}        # Number of mini labyrinths between 6 and 10.
      
      # Parameters for scattered single wall pieces.
      scattered_walls:
         count: ${uniform:10,30,1}       # Number of scattered walls between 10 and 30.
      
      # NEW: Parameters for blocks.
      blocks:
         count: ${uniform:0,10,1}         # Number of blocks between 0 and 10.

  objects:
    altar:
      cooldown: ${uniform:50,150,1}
      initial_items: 1