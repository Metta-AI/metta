# BBC Learning Progress Curriculum

_target_: metta.mettagrid.curriculum.bucketed.BucketedCurriculum

env_cfg_template: /env/mettagrid/arena/combat

# Enable reward observation tracking
use_reward_observations: true
reward_types: ["ore_red", "battery_red", "heart", "laser", "armor", "blueprint"]
reward_aggregation: "mean"  # How to aggregate learning progress across reward types

# Learning progress parameters
ema_timescale: 0.001
progress_smoothing: 0.05
num_active_tasks: 6
rand_task_rate: 0.25
sample_threshold: 10
memory: 25

env_overrides:
  game:
    objects:
      altar:
        initial_resource_count: 1
        # no new hearts
        input_resources:
          blueprint: 1

    actions: { attack: { consumed_resources: { blueprint: 0 } } }
    agent: { rewards: { heart: 1 } }

buckets:
  game.objects.lasery.initial_resource_count: { values: [0, 1] }
  game.objects.armory.initial_resource_count: { values: [0, 1] }
