${sampling:3,5,4}defaults:
  - /env/mettagrid/mettagrid@
  - _self_

sampling: 1

game:
  max_steps: 1500 # ${width * height} / 10
  num_agents: 4
  actions:
    noop:
      enabled: false
    put_items:
      enabled: false
    attack:
      enabled: false
    swap:
      enabled: false
    change_color:
      enabled: false
  objects:
    altar:
      cooldown: 1000
      initial_resource_count: 1
  map_builder:
    _target_: metta.map.mapgen.MapGen
    width: ${sampling:200,250,225}
    height: ${sampling:200,250,225}
    border_width: 6

    root:
      type: metta.map.scenes.room_grid.RoomGrid
      params:
        rows: 2
        columns: 2
      children:
        - scene:
            type: metta.map.scenes.room_grid.RoomGrid
            params:
              border_width: 0
              layout: [
              ["border", "border", "border", "border", "border"],
              ["border", "middle", "middle", "middle", "border"],
              ["border", "middle", "middle", "middle", "border"],
              ["border", "middle", "middle", "middle", "border"],
              ["border", "border", "border", "border", "border"]
              ]
            children:
              - where:
                  tags:
                    - middle
                limit: ${sampling:3,5,4}
                lock: lock
                scene:
                  type: metta.map.scenes.random.Random
                  params:
                    objects:
                      altar: 1
              - where:
                  tags:
                    - middle
                limit: 1
                lock: lock
                scene:
                  type: metta.map.scenes.random.Random
                  params:
                    agents: 1
