[build-system]
requires = ["setuptools>=45", "wheel", "numpy>=2", "torch", "setuptools_scm>=8"]
build-backend = "setuptools.build_meta"

[project]
name = "pufferlib-core"
description = "PufferLib core functionality with vectorized environments and reinforcement learning"
readme = "README.md"
requires-python = ">=3.8"
license = "MIT"
authors = [{ name = "Joseph Suarez", email = "jsuarez@openai.com" }]
keywords = ["reinforcement-learning", "machine-learning", "multi-agent", "vectorized-environments"]
classifiers = [
  "Development Status :: 5 - Production/Stable",
  "Environment :: Console",
  "Intended Audience :: Developers",
  "Intended Audience :: Education",
  "Intended Audience :: Science/Research",
  "Operating System :: OS Independent",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.8",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Topic :: Scientific/Engineering :: Artificial Intelligence",
  "Topic :: Software Development :: Libraries :: Python Modules",
]
dependencies = [
  "numpy",
  "gymnasium",
  "psutil",
  "torch",
  "nvidia-ml-py",
  "rich",
  "rich-argparse",
  "setuptools",
  "pyro-ppl",
]
dynamic = ["version"]

[project.urls]
Homepage = "https://github.com/PufferAI/PufferLib"
Documentation = "https://puffer.ai"
Repository = "https://github.com/PufferAI/PufferLib"
Issues = "https://github.com/PufferAI/PufferLib/issues"

[tool.setuptools.packages.find]
where = ["src"]
include = ["pufferlib", "pufferlib_core.egg-info"]

[tool.setuptools_scm]
tag_regex = "^pufferlib-core-v(?P<version>\\d+\\.\\d+\\.\\d+(?:\\.\\d+)?)$"
version_scheme = "no-guess-dev"
local_scheme = "node-and-date"
root = "../.."
fallback_version = "0.0.0"

# Provide a specific git command to be used in order to find the correct versioning tags
[tool.setuptools_scm.scm.git]
describe_command = [
  "git",
  "describe",
  "--dirty",
  "--tags",
  "--long",
  "--match",
  "pufferlib-core-v*",
]

[tool.setuptools.package-data]
pufferlib = ["*.py", "*.so", "*.pyd"]

[tool.pufferlib]
uv_rebuild_token = 0  # Bump to trigger uv editable reinstall even when source code has not changed
