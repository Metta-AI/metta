{
  "openapi": "3.1.0",
  "info": {
    "title": "FastAPI",
    "version": "0.1.0"
  },
  "paths": {
    "/tasks": {
      "post": {
        "tags": [
          "eval_tasks"
        ],
        "summary": "Create Task",
        "operationId": "create_task_tasks_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvalTaskRow"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/latest": {
      "get": {
        "tags": [
          "eval_tasks"
        ],
        "summary": "Get Latest Assigned Task For Worker",
        "operationId": "get_latest_assigned_task_for_worker_tasks_latest_get",
        "parameters": [
          {
            "name": "assignee",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Assignee"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvalTaskRow"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/available": {
      "get": {
        "tags": [
          "eval_tasks"
        ],
        "summary": "Get Available Tasks",
        "operationId": "get_available_tasks_tasks_available_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "default": 200,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TasksResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/claim": {
      "post": {
        "tags": [
          "eval_tasks"
        ],
        "summary": "Claim Tasks",
        "operationId": "claim_tasks_tasks_claim_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskClaimRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskClaimResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/claimed": {
      "get": {
        "tags": [
          "eval_tasks"
        ],
        "summary": "Get Claimed Tasks",
        "operationId": "get_claimed_tasks_tasks_claimed_get",
        "parameters": [
          {
            "name": "assignee",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Assignee"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TasksResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/git-hashes": {
      "post": {
        "tags": [
          "eval_tasks"
        ],
        "summary": "Get Git Hashes For Workers",
        "operationId": "get_git_hashes_for_workers_tasks_git_hashes_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GitHashesRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GitHashesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/all": {
      "get": {
        "tags": [
          "eval_tasks"
        ],
        "summary": "Get All Tasks",
        "operationId": "get_all_tasks_tasks_all_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 1000,
              "minimum": 1,
              "default": 500,
              "title": "Limit"
            }
          },
          {
            "name": "statuses",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "enum": [
                      "unprocessed",
                      "running",
                      "canceled",
                      "done",
                      "error",
                      "system_error"
                    ],
                    "type": "string"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "title": "Statuses"
            }
          },
          {
            "name": "git_hash",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Git Hash"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TasksResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/paginated": {
      "get": {
        "tags": [
          "eval_tasks"
        ],
        "summary": "Get Tasks Paginated",
        "operationId": "get_tasks_paginated_tasks_paginated_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Page Size"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "assignee",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Assignee"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "name": "command",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Command"
            }
          },
          {
            "name": "created_at",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Created At"
            }
          },
          {
            "name": "assigned_at",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Assigned At"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedTasksResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/{task_id}/start": {
      "post": {
        "tags": [
          "eval_tasks"
        ],
        "summary": "Start Task",
        "operationId": "start_task_tasks__task_id__start_post",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskIdResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/{task_id}/finish": {
      "post": {
        "tags": [
          "eval_tasks"
        ],
        "summary": "Finish Task",
        "operationId": "finish_task_tasks__task_id__finish_post",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Task Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskFinishRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskIdResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/{task_id}": {
      "get": {
        "tags": [
          "eval_tasks"
        ],
        "summary": "Get Task",
        "description": "Get a single task by ID with full details including attributes.",
        "operationId": "get_task_tasks__task_id__get",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvalTaskRow"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/{task_id}/attempts": {
      "get": {
        "tags": [
          "eval_tasks"
        ],
        "summary": "Get Task Attempts",
        "description": "Get all attempts for a specific task.",
        "operationId": "get_task_attempts_tasks__task_id__attempts_get",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskAttemptsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/tasks/{task_id}/logs/{log_type}": {
      "get": {
        "tags": [
          "eval_tasks"
        ],
        "summary": "Get Task Logs",
        "description": "Stream log files from S3 for a specific task.\n\nArgs:\n    task_id: The ID of the task\n    log_type: Either \"stdout\" or \"stderr\" or \"output\"\n\nReturns:\n    StreamingResponse with the log file content as text/plain",
        "operationId": "get_task_logs_tasks__task_id__logs__log_type__get",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Task Id"
            }
          },
          {
            "name": "log_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Log Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/sql/tables": {
      "get": {
        "tags": [
          "sql"
        ],
        "summary": "List Tables",
        "description": "List all available tables in the database (excluding migrations).",
        "operationId": "list_tables_sql_tables_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/TableInfo"
                  },
                  "type": "array",
                  "title": "Response List Tables Sql Tables Get"
                }
              }
            }
          }
        }
      }
    },
    "/sql/tables/{table_name}/schema": {
      "get": {
        "tags": [
          "sql"
        ],
        "summary": "Get Table Schema",
        "description": "Get the schema for a specific table.",
        "operationId": "get_table_schema_sql_tables__table_name__schema_get",
        "parameters": [
          {
            "name": "table_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Table Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TableSchema"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/sql/query": {
      "post": {
        "tags": [
          "sql"
        ],
        "summary": "Execute Query",
        "description": "Execute a SQL query with a 20-second timeout.",
        "operationId": "execute_query_sql_query_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SQLQueryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SQLQueryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/sql/generate-query": {
      "post": {
        "tags": [
          "sql"
        ],
        "summary": "Generate Ai Query",
        "description": "Generate a SQL query from natural language description using Claude.",
        "operationId": "generate_ai_query_sql_generate_query_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AIQueryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIQueryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stats/policies": {
      "post": {
        "tags": [
          "stats"
        ],
        "summary": "Upsert Policy",
        "operationId": "upsert_policy_stats_policies_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PolicyCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UUIDResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "stats"
        ],
        "summary": "Get Policies",
        "operationId": "get_policies_stats_policies_get",
        "parameters": [
          {
            "name": "name_exact",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Name Exact"
            }
          },
          {
            "name": "name_fuzzy",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Name Fuzzy"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PoliciesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stats/policies/{policy_id_str}/versions": {
      "post": {
        "tags": [
          "stats"
        ],
        "summary": "Create Policy Version",
        "operationId": "create_policy_version_stats_policies__policy_id_str__versions_post",
        "parameters": [
          {
            "name": "policy_id_str",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Policy Id Str"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PolicyVersionCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UUIDResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stats/policies/versions/{policy_version_id_str}": {
      "get": {
        "tags": [
          "stats"
        ],
        "summary": "Get Policy Version",
        "operationId": "get_policy_version_stats_policies_versions__policy_version_id_str__get",
        "parameters": [
          {
            "name": "policy_version_id_str",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Policy Version Id Str"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PolicyVersionWithName"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stats/policies/versions/{policy_version_id_str}/tags": {
      "put": {
        "tags": [
          "stats"
        ],
        "summary": "Update Policy Version Tags Route",
        "operationId": "update_policy_version_tags_route_stats_policies_versions__policy_version_id_str__tags_put",
        "parameters": [
          {
            "name": "policy_version_id_str",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Policy Version Id Str"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "title": "Tags"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UUIDResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stats/policies/submit": {
      "post": {
        "tags": [
          "stats"
        ],
        "summary": "Submit Policy",
        "operationId": "submit_policy_stats_policies_submit_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_submit_policy_stats_policies_submit_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UUIDResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stats/policies/submit/presigned-url": {
      "post": {
        "tags": [
          "stats"
        ],
        "summary": "Get Submit Policy Presigned Url",
        "operationId": "get_submit_policy_presigned_url_stats_policies_submit_presigned_url_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PresignedUploadUrlResponse"
                }
              }
            }
          }
        }
      }
    },
    "/stats/policies/submit/complete": {
      "post": {
        "tags": [
          "stats"
        ],
        "summary": "Complete Policy Submit",
        "operationId": "complete_policy_submit_stats_policies_submit_complete_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompletePolicySubmitRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UUIDResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stats/episodes/bulk_upload/presigned-url": {
      "post": {
        "tags": [
          "stats"
        ],
        "summary": "Get Bulk Upload Presigned Url",
        "operationId": "get_bulk_upload_presigned_url_stats_episodes_bulk_upload_presigned_url_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PresignedUploadUrlResponse"
                }
              }
            }
          }
        }
      }
    },
    "/stats/episodes/bulk_upload/complete": {
      "post": {
        "tags": [
          "stats"
        ],
        "summary": "Complete Bulk Upload",
        "operationId": "complete_bulk_upload_stats_episodes_bulk_upload_complete_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompleteBulkUploadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkEpisodeUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stats/policy-versions": {
      "get": {
        "tags": [
          "stats"
        ],
        "summary": "Get Policy Versions",
        "operationId": "get_policy_versions_stats_policy_versions_get",
        "parameters": [
          {
            "name": "name_exact",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Name Exact"
            }
          },
          {
            "name": "name_fuzzy",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Name Fuzzy"
            }
          },
          {
            "name": "version",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Version"
            }
          },
          {
            "name": "policy_version_ids",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                {
                  "type": "null"
                }
              ],
              "title": "Policy Version Ids"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PolicyVersionsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stats/policies/{policy_id}/versions": {
      "get": {
        "tags": [
          "stats"
        ],
        "summary": "Get Versions For Policy",
        "operationId": "get_versions_for_policy_stats_policies__policy_id__versions_get",
        "parameters": [
          {
            "name": "policy_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Policy Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 500,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PolicyVersionsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/stats/policies/my-versions": {
      "get": {
        "tags": [
          "stats"
        ],
        "summary": "Get My Policy Versions",
        "operationId": "get_my_policy_versions_stats_policies_my_versions_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MyPolicyVersionsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/stats/episodes/query": {
      "post": {
        "tags": [
          "stats"
        ],
        "summary": "Query Episodes",
        "operationId": "query_episodes_stats_episodes_query_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EpisodeQueryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EpisodeQueryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/sweeps/{sweep_name}/create_sweep": {
      "post": {
        "tags": [
          "sweeps"
        ],
        "summary": "Create Sweep",
        "description": "Initialize a new sweep or return existing sweep info (idempotent).",
        "operationId": "create_sweep_sweeps__sweep_name__create_sweep_post",
        "parameters": [
          {
            "name": "sweep_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Sweep Name"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SweepCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SweepCreateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/sweeps/{sweep_name}": {
      "get": {
        "tags": [
          "sweeps"
        ],
        "summary": "Get Sweep",
        "description": "Get sweep information by name.",
        "operationId": "get_sweep_sweeps__sweep_name__get",
        "parameters": [
          {
            "name": "sweep_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Sweep Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SweepInfo"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/sweeps/{sweep_name}/runs/next": {
      "post": {
        "tags": [
          "sweeps"
        ],
        "summary": "Get Next Run Id",
        "description": "Get the next run ID for a sweep (atomic operation).",
        "operationId": "get_next_run_id_sweeps__sweep_name__runs_next_post",
        "parameters": [
          {
            "name": "sweep_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Sweep Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RunIdResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/leaderboard/v2": {
      "get": {
        "tags": [
          "leaderboard"
        ],
        "summary": "Get Leaderboard Policies V2",
        "operationId": "get_leaderboard_policies_v2_leaderboard_v2_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LeaderboardPoliciesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/leaderboard/v2/users/me": {
      "get": {
        "tags": [
          "leaderboard"
        ],
        "summary": "Get Leaderboard Policies V2 For User",
        "operationId": "get_leaderboard_policies_v2_for_user_leaderboard_v2_users_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LeaderboardPoliciesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/leaderboard/v2/policy/{policy_version_id}": {
      "get": {
        "tags": [
          "leaderboard"
        ],
        "summary": "Get Leaderboard Policies V2 For Policy",
        "operationId": "get_leaderboard_policies_v2_for_policy_leaderboard_v2_policy__policy_version_id__get",
        "parameters": [
          {
            "name": "policy_version_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Policy Version Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LeaderboardPoliciesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/leaderboard/v2/vor": {
      "get": {
        "tags": [
          "leaderboard"
        ],
        "summary": "Get Leaderboard With Vor",
        "description": "Get leaderboard entries with VOR computed for each policy (cached 60s).",
        "operationId": "get_leaderboard_with_vor_leaderboard_v2_vor_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LeaderboardPoliciesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/whoami": {
      "get": {
        "summary": "Whoami",
        "operationId": "whoami_whoami_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WhoAmIResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AIQueryRequest": {
        "properties": {
          "description": {
            "type": "string",
            "title": "Description"
          }
        },
        "type": "object",
        "required": [
          "description"
        ],
        "title": "AIQueryRequest"
      },
      "AIQueryResponse": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "AIQueryResponse"
      },
      "Body_submit_policy_stats_policies_submit_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "name": {
            "type": "string",
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "file",
          "name"
        ],
        "title": "Body_submit_policy_stats_policies_submit_post"
      },
      "BulkEpisodeUploadResponse": {
        "properties": {
          "episodes_created": {
            "type": "integer",
            "title": "Episodes Created"
          },
          "duckdb_s3_uri": {
            "type": "string",
            "title": "Duckdb S3 Uri"
          }
        },
        "type": "object",
        "required": [
          "episodes_created",
          "duckdb_s3_uri"
        ],
        "title": "BulkEpisodeUploadResponse",
        "description": "Response for bulk episode upload."
      },
      "CompleteBulkUploadRequest": {
        "properties": {
          "upload_id": {
            "type": "string",
            "format": "uuid",
            "title": "Upload Id"
          }
        },
        "type": "object",
        "required": [
          "upload_id"
        ],
        "title": "CompleteBulkUploadRequest",
        "description": "Request to complete a bulk upload."
      },
      "CompletePolicySubmitRequest": {
        "properties": {
          "upload_id": {
            "type": "string",
            "format": "uuid",
            "title": "Upload Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "upload_id",
          "name"
        ],
        "title": "CompletePolicySubmitRequest",
        "description": "Request to complete a policy submission after uploading to S3."
      },
      "EpisodeQueryRequest": {
        "properties": {
          "primary_policy_version_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Primary Policy Version Ids"
          },
          "episode_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "uuid"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Episode Ids"
          },
          "tag_filters": {
            "anyOf": [
              {
                "additionalProperties": {
                  "anyOf": [
                    {
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    },
                    {
                      "type": "null"
                    }
                  ]
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tag Filters"
          },
          "limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Limit",
            "default": 200
          },
          "offset": {
            "type": "integer",
            "title": "Offset",
            "default": 0
          }
        },
        "type": "object",
        "title": "EpisodeQueryRequest"
      },
      "EpisodeQueryResponse": {
        "properties": {
          "episodes": {
            "items": {
              "$ref": "#/components/schemas/EpisodeWithTags"
            },
            "type": "array",
            "title": "Episodes"
          }
        },
        "type": "object",
        "required": [
          "episodes"
        ],
        "title": "EpisodeQueryResponse"
      },
      "EpisodeReplay": {
        "properties": {
          "episode_id": {
            "type": "string",
            "format": "uuid",
            "title": "Episode Id"
          },
          "replay_url": {
            "type": "string",
            "title": "Replay Url"
          }
        },
        "type": "object",
        "required": [
          "episode_id",
          "replay_url"
        ],
        "title": "EpisodeReplay"
      },
      "EpisodeWithTags": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "primary_pv_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Primary Pv Id"
          },
          "replay_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Replay Url"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url"
          },
          "attributes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Attributes"
          },
          "eval_task_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eval Task Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "tags": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Tags"
          },
          "avg_rewards": {
            "additionalProperties": {
              "type": "number"
            },
            "propertyNames": {
              "format": "uuid"
            },
            "type": "object",
            "title": "Avg Rewards"
          }
        },
        "type": "object",
        "required": [
          "id",
          "primary_pv_id",
          "replay_url",
          "thumbnail_url",
          "eval_task_id",
          "created_at"
        ],
        "title": "EpisodeWithTags"
      },
      "EvalTaskRow": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "command": {
            "type": "string",
            "title": "Command"
          },
          "data_uri": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data Uri"
          },
          "git_hash": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Git Hash"
          },
          "attributes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Attributes"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "is_finished": {
            "type": "boolean",
            "title": "Is Finished"
          },
          "latest_attempt_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Latest Attempt Id"
          },
          "attempt_number": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attempt Number",
            "default": 0
          },
          "status": {
            "type": "string",
            "enum": [
              "unprocessed",
              "running",
              "canceled",
              "done",
              "error",
              "system_error"
            ],
            "title": "Status",
            "default": "unprocessed"
          },
          "status_details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status Details"
          },
          "assigned_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned At"
          },
          "assignee": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assignee"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "finished_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Finished At"
          },
          "output_log_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Log Path"
          }
        },
        "type": "object",
        "required": [
          "id",
          "command",
          "data_uri",
          "git_hash",
          "attributes",
          "user_id",
          "created_at",
          "is_finished",
          "latest_attempt_id"
        ],
        "title": "EvalTaskRow",
        "description": "Row model that matches the eval_tasks table with latest attempt data."
      },
      "GitHashesRequest": {
        "properties": {
          "assignees": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Assignees"
          }
        },
        "type": "object",
        "required": [
          "assignees"
        ],
        "title": "GitHashesRequest"
      },
      "GitHashesResponse": {
        "properties": {
          "git_hashes": {
            "additionalProperties": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Git Hashes"
          }
        },
        "type": "object",
        "required": [
          "git_hashes"
        ],
        "title": "GitHashesResponse"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "LeaderboardPoliciesResponse": {
        "properties": {
          "entries": {
            "items": {
              "$ref": "#/components/schemas/LeaderboardPolicyEntry"
            },
            "type": "array",
            "title": "Entries"
          }
        },
        "type": "object",
        "required": [
          "entries"
        ],
        "title": "LeaderboardPoliciesResponse"
      },
      "LeaderboardPolicyEntry": {
        "properties": {
          "policy_version": {
            "$ref": "#/components/schemas/PublicPolicyVersionRow"
          },
          "scores": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Scores"
          },
          "avg_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Score"
          },
          "overall_vor": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Overall Vor"
          },
          "replays": {
            "additionalProperties": {
              "items": {
                "$ref": "#/components/schemas/EpisodeReplay"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Replays"
          },
          "score_episode_ids": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "uuid"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": "object",
            "title": "Score Episode Ids"
          }
        },
        "type": "object",
        "required": [
          "policy_version",
          "scores"
        ],
        "title": "LeaderboardPolicyEntry"
      },
      "MyPolicyVersionsResponse": {
        "properties": {
          "entries": {
            "items": {
              "$ref": "#/components/schemas/PublicPolicyVersionRow"
            },
            "type": "array",
            "title": "Entries"
          }
        },
        "type": "object",
        "required": [
          "entries"
        ],
        "title": "MyPolicyVersionsResponse"
      },
      "PaginatedTasksResponse": {
        "properties": {
          "tasks": {
            "items": {
              "$ref": "#/components/schemas/EvalTaskRow"
            },
            "type": "array",
            "title": "Tasks"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages"
          }
        },
        "type": "object",
        "required": [
          "tasks",
          "total_count",
          "page",
          "page_size",
          "total_pages"
        ],
        "title": "PaginatedTasksResponse"
      },
      "PoliciesResponse": {
        "properties": {
          "entries": {
            "items": {
              "$ref": "#/components/schemas/PolicyRow"
            },
            "type": "array",
            "title": "Entries"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          }
        },
        "type": "object",
        "required": [
          "entries",
          "total_count"
        ],
        "title": "PoliciesResponse"
      },
      "PolicyCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "attributes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Attributes"
          },
          "is_system_policy": {
            "type": "boolean",
            "title": "Is System Policy",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "PolicyCreate"
      },
      "PolicyRow": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "attributes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Attributes"
          },
          "version_count": {
            "type": "integer",
            "title": "Version Count"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "created_at",
          "user_id",
          "attributes",
          "version_count"
        ],
        "title": "PolicyRow"
      },
      "PolicyVersionCreate": {
        "properties": {
          "policy_spec": {
            "additionalProperties": true,
            "type": "object",
            "title": "Policy Spec"
          },
          "git_hash": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Git Hash"
          },
          "attributes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Attributes"
          },
          "s3_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "S3 Path"
          }
        },
        "type": "object",
        "title": "PolicyVersionCreate"
      },
      "PolicyVersionWithName": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "internal_id": {
            "type": "integer",
            "title": "Internal Id"
          },
          "policy_id": {
            "type": "string",
            "format": "uuid",
            "title": "Policy Id"
          },
          "version": {
            "type": "integer",
            "title": "Version"
          },
          "s3_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "S3 Path"
          },
          "git_hash": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Git Hash"
          },
          "policy_spec": {
            "additionalProperties": true,
            "type": "object",
            "title": "Policy Spec"
          },
          "attributes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Attributes"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "name": {
            "type": "string",
            "title": "Name"
          }
        },
        "type": "object",
        "required": [
          "id",
          "internal_id",
          "policy_id",
          "version",
          "s3_path",
          "git_hash",
          "policy_spec",
          "attributes",
          "created_at",
          "name"
        ],
        "title": "PolicyVersionWithName"
      },
      "PolicyVersionsResponse": {
        "properties": {
          "entries": {
            "items": {
              "$ref": "#/components/schemas/PublicPolicyVersionRow"
            },
            "type": "array",
            "title": "Entries"
          },
          "total_count": {
            "type": "integer",
            "title": "Total Count"
          }
        },
        "type": "object",
        "required": [
          "entries",
          "total_count"
        ],
        "title": "PolicyVersionsResponse"
      },
      "PresignedUploadUrlResponse": {
        "properties": {
          "upload_url": {
            "type": "string",
            "title": "Upload Url"
          },
          "s3_key": {
            "type": "string",
            "title": "S3 Key"
          },
          "upload_id": {
            "type": "string",
            "format": "uuid",
            "title": "Upload Id"
          }
        },
        "type": "object",
        "required": [
          "upload_url",
          "s3_key",
          "upload_id"
        ],
        "title": "PresignedUploadUrlResponse",
        "description": "Response containing presigned URL for direct S3 upload."
      },
      "PublicPolicyVersionRow": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          },
          "policy_id": {
            "type": "string",
            "format": "uuid",
            "title": "Policy Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "policy_created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Policy Created At"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "version": {
            "type": "integer",
            "title": "Version"
          },
          "tags": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Tags"
          },
          "version_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Version Count"
          }
        },
        "type": "object",
        "required": [
          "id",
          "policy_id",
          "created_at",
          "policy_created_at",
          "user_id",
          "name",
          "version"
        ],
        "title": "PublicPolicyVersionRow"
      },
      "RunIdResponse": {
        "properties": {
          "run_id": {
            "type": "string",
            "title": "Run Id"
          }
        },
        "type": "object",
        "required": [
          "run_id"
        ],
        "title": "RunIdResponse"
      },
      "SQLQueryRequest": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          }
        },
        "type": "object",
        "required": [
          "query"
        ],
        "title": "SQLQueryRequest"
      },
      "SQLQueryResponse": {
        "properties": {
          "columns": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Columns"
          },
          "rows": {
            "items": {
              "items": {},
              "type": "array"
            },
            "type": "array",
            "title": "Rows"
          },
          "row_count": {
            "type": "integer",
            "title": "Row Count"
          }
        },
        "type": "object",
        "required": [
          "columns",
          "rows",
          "row_count"
        ],
        "title": "SQLQueryResponse"
      },
      "SweepCreateRequest": {
        "properties": {
          "project": {
            "type": "string",
            "title": "Project"
          },
          "entity": {
            "type": "string",
            "title": "Entity"
          },
          "wandb_sweep_id": {
            "type": "string",
            "title": "Wandb Sweep Id"
          }
        },
        "type": "object",
        "required": [
          "project",
          "entity",
          "wandb_sweep_id"
        ],
        "title": "SweepCreateRequest"
      },
      "SweepCreateResponse": {
        "properties": {
          "created": {
            "type": "boolean",
            "title": "Created"
          },
          "sweep_id": {
            "type": "string",
            "format": "uuid",
            "title": "Sweep Id"
          }
        },
        "type": "object",
        "required": [
          "created",
          "sweep_id"
        ],
        "title": "SweepCreateResponse"
      },
      "SweepInfo": {
        "properties": {
          "exists": {
            "type": "boolean",
            "title": "Exists"
          },
          "wandb_sweep_id": {
            "type": "string",
            "title": "Wandb Sweep Id"
          }
        },
        "type": "object",
        "required": [
          "exists",
          "wandb_sweep_id"
        ],
        "title": "SweepInfo"
      },
      "TableInfo": {
        "properties": {
          "table_name": {
            "type": "string",
            "title": "Table Name"
          },
          "column_count": {
            "type": "integer",
            "title": "Column Count"
          },
          "row_count": {
            "type": "integer",
            "title": "Row Count"
          }
        },
        "type": "object",
        "required": [
          "table_name",
          "column_count",
          "row_count"
        ],
        "title": "TableInfo"
      },
      "TableSchema": {
        "properties": {
          "table_name": {
            "type": "string",
            "title": "Table Name"
          },
          "columns": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Columns"
          }
        },
        "type": "object",
        "required": [
          "table_name",
          "columns"
        ],
        "title": "TableSchema"
      },
      "TaskAttemptRow": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "task_id": {
            "type": "integer",
            "title": "Task Id"
          },
          "attempt_number": {
            "type": "integer",
            "title": "Attempt Number"
          },
          "assigned_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned At"
          },
          "assignee": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assignee"
          },
          "started_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "finished_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Finished At"
          },
          "output_log_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Log Path"
          },
          "status": {
            "type": "string",
            "enum": [
              "unprocessed",
              "running",
              "canceled",
              "done",
              "error",
              "system_error"
            ],
            "title": "Status"
          },
          "status_details": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status Details"
          }
        },
        "type": "object",
        "required": [
          "id",
          "task_id",
          "attempt_number",
          "assigned_at",
          "assignee",
          "started_at",
          "finished_at",
          "output_log_path",
          "status",
          "status_details"
        ],
        "title": "TaskAttemptRow",
        "description": "Row model for task_attempts table."
      },
      "TaskAttemptsResponse": {
        "properties": {
          "attempts": {
            "items": {
              "$ref": "#/components/schemas/TaskAttemptRow"
            },
            "type": "array",
            "title": "Attempts"
          }
        },
        "type": "object",
        "required": [
          "attempts"
        ],
        "title": "TaskAttemptsResponse"
      },
      "TaskClaimRequest": {
        "properties": {
          "tasks": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Tasks"
          },
          "assignee": {
            "type": "string",
            "title": "Assignee"
          }
        },
        "type": "object",
        "required": [
          "tasks",
          "assignee"
        ],
        "title": "TaskClaimRequest"
      },
      "TaskClaimResponse": {
        "properties": {
          "claimed": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "Claimed"
          }
        },
        "type": "object",
        "required": [
          "claimed"
        ],
        "title": "TaskClaimResponse"
      },
      "TaskCreateRequest": {
        "properties": {
          "command": {
            "type": "string",
            "title": "Command"
          },
          "git_hash": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Git Hash"
          },
          "data_file": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data File"
          },
          "attributes": {
            "additionalProperties": true,
            "type": "object",
            "title": "Attributes"
          }
        },
        "type": "object",
        "required": [
          "command"
        ],
        "title": "TaskCreateRequest"
      },
      "TaskFinishRequest": {
        "properties": {
          "task_id": {
            "type": "integer",
            "title": "Task Id"
          },
          "status": {
            "type": "string",
            "enum": [
              "done",
              "error",
              "canceled",
              "system_error"
            ],
            "title": "Status"
          },
          "log_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Log Path"
          },
          "status_details": {
            "additionalProperties": true,
            "type": "object",
            "title": "Status Details"
          }
        },
        "type": "object",
        "required": [
          "task_id",
          "status"
        ],
        "title": "TaskFinishRequest"
      },
      "TaskIdResponse": {
        "properties": {
          "task_id": {
            "type": "integer",
            "title": "Task Id"
          }
        },
        "type": "object",
        "required": [
          "task_id"
        ],
        "title": "TaskIdResponse"
      },
      "TasksResponse": {
        "properties": {
          "tasks": {
            "items": {
              "$ref": "#/components/schemas/EvalTaskRow"
            },
            "type": "array",
            "title": "Tasks"
          }
        },
        "type": "object",
        "required": [
          "tasks"
        ],
        "title": "TasksResponse"
      },
      "UUIDResponse": {
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "title": "Id"
          }
        },
        "type": "object",
        "required": [
          "id"
        ],
        "title": "UUIDResponse"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WhoAmIResponse": {
        "properties": {
          "user_email": {
            "type": "string",
            "title": "User Email"
          }
        },
        "type": "object",
        "required": [
          "user_email"
        ],
        "title": "WhoAmIResponse"
      }
    }
  }
}