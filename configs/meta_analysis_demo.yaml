# Meta-analysis demonstration configuration

# Output directory for results
output_dir: ${run_dir}/meta_analysis_demo

# Wandb configuration
wandb:
  entity: metta-research
  project: metta

wandb_log: true  # Enable wandb logging

# Data collection settings
collect_data: true
max_runs: 50  # Limit for demo

# Train/validation split
train_val_split: 0.8  # 80% train, 20% validation
random_seed: 42  # For reproducible splits

# Date filtering (ISO format: YYYY-MM-DD)
start_date: "2025-04-30"  # Filter runs from April 30th, 2025
# end_date: "2024-12-31"    # Uncomment to filter runs until this date (leave commented for "until present")

run_filters:
  # Example filters - adjust based on your data
  "config.trainer.curriculum": {"$regex": "navigation"}
  "state": "finished"

# Model architecture
env_latent_dim: 16
agent_latent_dim: 16
curve_length: 100
hidden_dim: 128

# Training settings
train_model: true
batch_size: 8
learning_rate: 0.001
beta: 1.0  # VAE KL loss weight
curve_weight: 1.0  # Reward prediction loss weight
num_epochs: 50  # Reduced for demo

tsne_interval: 10  # Log TSNE plots every N epochs
tsne_sample_size: 128  # Number of samples for TSNE

# Demo settings
demo_predictions: true

# Hardware
device: cpu  # Use GPU if available
