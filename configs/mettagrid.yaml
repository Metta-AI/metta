name: "GDY-MettaGrid"
_target_: mettagrid.mettagrid_env.MettaGridEnv

report_stats_interval: 100
normalize_rewards: false
flatten_actions: true
compact_obs: false
track_last_action: false

sampling: 0

hidden_features:
  grid_obs: [
    "agent:energy",
    "agent:hp",
  ]

game:
  num_agents: ???
  obs_width: 11
  obs_height: 11
  max_steps: 1000
  tile_size: 16
  no_energy_steps: 500

  agent:
    max_inventory: ${uniform:0, 100, 50}
    freeze_duration: ${uniform:0, 200, 10}
    hp: 10
    mortal: False
    rewards:
      action_failure_penalty: 0.01
      ore: 0.005
      battery: 0.01
      heart: 1

  groups:
    agent:
      id: 0
      sprite: 0
      props: {}

    team_1:
      id: 1
      sprite: 1
      group_reward_pct: 0.5
      props: {}

    team_2:
      id: 2
      sprite: 4
      group_reward_pct: 0.5
      props: {}

    team_3:
      id: 3
      sprite: 8
      group_reward_pct: 0.5
      props: {}

    team_4:
      id: 4
      sprite: 1
      group_reward_pct: 0.5
      props: {}

    prey:
      id: 5
      sprite: 12
      props: {}

    predator:
      id: 6
      sprite: 6
      props: {}

  objects:
    altar:
      hp: 30
      cooldown: ${uniform:1, 10, 2}

    mine:
      hp: 30
      cooldown: ${uniform:0, 100, 20}

    generator:
      hp: 30
      cooldown: ${uniform:0, 10, 5}

    armory:
      hp: 30
      cooldown: ${uniform:0, 10, 5}

    lasery:
      hp: 30
      cooldown: ${uniform:0, 10, 5}

    lab:
      hp: 30
      cooldown: ${uniform:0, 10, 5}

    factory:
      hp: 30
      cooldown: ${uniform:0, 10, 5}

    temple:
      hp: 30
      cooldown: ${uniform:0, 10, 5}

    wall:
      hp: ${uniform:1, 20, 10}

  actions:
    noop:
      enabled: true
      cost: 0
    move:
      enabled: true
      cost: 0
    rotate:
      enabled: true
      cost: 0
    jump:
      enabled: false
      cost: 3
    transfer:
      enabled: false
      cost: 0
    use:
      enabled: true
      cost: 0
    attack:
      enabled: true
      cost: 0
    gift:
      enabled: false
      cost: 0
    swap:
      enabled: true
      cost: 0
    change_color:
      enabled: true
      cost: 0

  reward_sharing:
    groups:
      team_1:
        team_1: 0.5
      team_2:
        team_2: 0.5
      team_3:
        team_3: 0.5
      team_4:
        team_4: 0.5
